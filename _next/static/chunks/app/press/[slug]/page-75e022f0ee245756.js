(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[802],{93:(e,n,s)=>{"use strict";function t(e){let{src:n,width:s,quality:t}=e,r="f_auto,q_auto,w_".concat(s).concat(t?",q_".concat(t):""),l=n.startsWith("/")?n.slice(1):n;return"".concat("https://res.cloudinary.com/".concat("dnpxalm5i","/image/upload"),"/").concat(r,"/").concat("gh-pages/public","/").concat(l)}function r(e){let n=e.startsWith("/")?e.slice(1):e;return"https://res.cloudinary.com/".concat("dnpxalm5i","/video/upload/").concat("gh-pages/public","/").concat(n)}s.r(n),s.d(n,{default:()=>t,getCloudinaryAudioUrl:()=>r})},706:(e,n,s)=>{"use strict";function t(e){let{action:n,category:s,label:t,value:r,...l}=e,a={event_category:s,event_label:t,value:r,...l};Object.keys(a).forEach(e=>void 0===a[e]&&delete a[e]),"function"==typeof window.gtag?window.gtag("event",n,a):(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:n,...a}))}s.d(n,{s:()=>t})},833:(e,n,s)=>{"use strict";s.d(n,{M:()=>a});var t=s(5155),r=s(2115),l=s(7645);function a(e){let{children:n,action:s="highlight",color:a="#ffd1dc",strokeWidth:o=1.5,animationDuration:i=600,iterations:c=2,padding:d=2,multiline:h=!0}=e,x=(0,r.useRef)(null),p=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=x.current;if(e){let n=(0,l.f)(e,{type:s,color:a,strokeWidth:o,animationDuration:i,iterations:c,padding:d,multiline:h});return p.current=n,n.show(),()=>{try{var e;null==(e=p.current)||e.remove()}catch(e){}finally{p.current=null}}}},[s,a,o,i,c,d,h]),(0,t.jsx)("span",{ref:x,className:"relative inline-block bg-transparent",children:n})}},1154:(e,n,s)=>{"use strict";s.d(n,{A:()=>t});let t=(0,s(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2475:(e,n,s)=>{"use strict";s.d(n,{CU:()=>c,Dn:()=>v,FB:()=>h,J:()=>g,RJ:()=>f,Uj:()=>b,WK:()=>B,ab:()=>m,az:()=>u,dr:()=>j,jl:()=>p,n:()=>d,z2:()=>x});var t=s(5155),r=s(2115),l=s(6766),a=s(3999),o=s(93),i=s(833);function c(e){let{children:n,color:s="#fff59d",padding:r=2,...l}=e;return(0,t.jsx)(i.M,{action:"highlight",color:s,padding:r,...l,children:n})}function d(e){let{children:n,color:s="#ef4444",...r}=e;return(0,t.jsx)(i.M,{action:"strike-through",color:s,...r,children:n})}function h(e){let{children:n,color:s="#ef4444",...r}=e;return(0,t.jsx)(i.M,{action:"crossed-off",color:s,...r,children:n})}function x(e){let{children:n,color:s="#2563eb",strokeWidth:r=2,...l}=e;return(0,t.jsx)(i.M,{action:"underline",color:s,strokeWidth:r,...l,children:n})}function p(e){let{children:n,color:s="#f59e0b",strokeWidth:r=1.5,padding:l=2,...a}=e;return(0,t.jsx)(i.M,{action:"circle",color:s,strokeWidth:r,padding:l,...a,children:n})}function u(e){let{children:n,color:s="#10b981",strokeWidth:r=1.5,padding:l=2,...a}=e;return(0,t.jsx)(i.M,{action:"box",color:s,strokeWidth:r,padding:l,...a,children:n})}function j(e){let{children:n,color:s="#8b5cf6",strokeWidth:r=1.5,padding:l=2,...a}=e;return(0,t.jsx)(i.M,{action:"bracket",color:s,strokeWidth:r,padding:l,...a,children:n})}let y=r.createContext(null);function g(e){let{children:n}=e,s=r.useRef(0),l=r.useMemo(()=>({next:()=>(s.current+=1,s.current),reset:()=>{s.current=0}}),[]);return(0,t.jsx)(y.Provider,{value:l,children:n})}function f(e){let{variant:n="approved",children:s}=e;return(0,t.jsx)("span",{className:(0,a.cn)("inline-block uppercase tracking-widest text-[10px] font-serif px-2 py-1 border rotate-[-2deg]","approved"===n?"text-green-700 border-green-700":"confidential"===n?"text-red-800 border-red-800":"text-amber-700 border-amber-700"),"aria-label":"stamp ".concat(n),children:null!=s?s:n})}function m(e){let{children:n}=e;return(0,t.jsx)("blockquote",{className:"border-l-2 border-foreground/40 pl-4 italic font-serif text-lg my-6",children:n})}function b(e){let{children:n,className:s,...r}=e;return(0,t.jsx)("div",{...r,className:(0,a.cn)("leading-relaxed my-4 first-letter:float-left first-letter:mr-2 first-letter:font-serif first-letter:text-5xl md:first-letter:text-6xl first-letter:leading-[0.8] first-letter:pt-1",s),children:n})}function B(e){let{title:n,children:s,bullet:l="star"}=e,o="star"===l?"✦":"lozenge"===l?"◊":"section"===l?"\xa7":"asterisk"===l?"⁎":"dash"===l?"—":"dot"===l?"•":"",i=r.useCallback(e=>r.Children.map(e,e=>{if(!r.isValidElement(e))return e;let n=e.props["data-bullet"],s="star"===n?"✦":"lozenge"===n?"◊":"section"===n?"\xa7":"asterisk"===n?"⁎":"dash"===n?"—":"dot"===n?"•":o;if("ul"===e.type||"ol"===e.type){let n=(0,a.cn)("list-none pl-0 my-3",e.props.className);return r.cloneElement(e,{className:n},i(e.props.children))}if("li"===e.type){let n=(0,a.cn)("leading-relaxed flex gap-2",e.props.className),l=s?(0,t.jsx)("span",{"aria-hidden":!0,className:"font-serif opacity-80 text-[0.9em] select-none",children:s}):null;return r.cloneElement(e,{className:n},(0,t.jsxs)(t.Fragment,{children:[l,(0,t.jsx)("span",{className:"min-w-0",children:i(e.props.children)})]}))}return r.cloneElement(e,{},i(e.props.children))}),[l,o]);return(0,t.jsxs)("aside",{className:"my-6 p-4 border border-foreground/30 bg-background/80",children:[n&&(0,t.jsx)("div",{className:"uppercase tracking-widest text-[10px] font-serif text-muted-foreground mb-2",children:n}),(0,t.jsx)("div",{className:"text-sm leading-relaxed",children:i(s)})]})}function v(e){let{src:n,alt:s,caption:a,width:i=1200,height:c=675}=e,d=r.useContext(y),[h,x]=r.useState(null);r.useEffect(()=>{d&&null==h&&x(d.next())},[d,h]);let p=h?"Figure ".concat(function(e){if(e<=0)return"";let n=e,s="";for(let[e,t]of[[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]])for(;n>=e;)s+=t,n-=e;return s}(h)):void 0;return(0,t.jsxs)("figure",{className:"my-6",children:[(0,t.jsx)(l.default,{src:n,alt:s,width:i,height:c,loader:o.default,sizes:"(min-width: 768px) 768px, 100vw",className:"w-full h-auto border border-foreground/20"}),(a||p)&&(0,t.jsxs)("figcaption",{className:"text-xs text-muted-foreground mt-2 font-serif italic text-center",children:[p,p&&a?" — ":"",a]})]})}},3545:(e,n,s)=>{"use strict";s.d(n,{R:()=>a,x:()=>o});var t=s(2115);let r={},l=t.createContext(r);function a(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(l.Provider,{value:n},e.children)}},3781:(e,n,s)=>{"use strict";s.d(n,{w:()=>i});var t=s(5155),r=s(3999),l=s(2115),a=s(833),o=s(7597);function i(e){let{id:n,title:s,heading:i,tagline:c,decorativeText:d,children:h,className:x,decorativeTextClassName:p,headingSize:u="small",fullWidth:j=!1}=e,{torchEnabled:y}=(0,o.i)(),[g,f]=(0,l.useState)(!1);return(0,l.useEffect)(()=>f(!0),[]),(0,t.jsxs)("section",{id:n,className:(0,r.cn)("py-12 relative mx-auto ",j?"":" max-w-5xl px-4 sm:px-6",x),children:[(0,t.jsxs)("div",{className:(0,r.cn)("text-center mb-12 border-b-1 border-foreground/20 pb-6",j&&"max-w-3xl mx-auto px-4 sm:px-6 relative"),children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-widest text-muted-foreground mb-2",children:s}),"large"===u?(0,t.jsx)("h1",{className:"text-3xl md:text-5xl font-bold font-serif text-foreground",children:i}):(0,t.jsx)("h2",{className:"text-2xl md:text-3xl font-bold font-serif text-foreground",children:i}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground mt-2 italic font-serif",children:["“",c,"“"]}),j&&(0,t.jsx)("div",{className:(0,r.cn)("uppercase absolute -top-10 -right-2 text-[86px] xs:text-[100px] sm:text-[150px] md:text-[200px] leading-none font-bold font-serif text-foreground/10 md:text-foreground/5 -z-10 select-none pointer-events-none",p),children:g&&y?(0,t.jsx)(a.M,{action:"circle",color:"#FF9800",strokeWidth:1.5,animationDuration:600,iterations:2,padding:2,children:(0,t.jsx)("span",{children:d})}):(0,t.jsx)("span",{children:d})})]}),h,!j&&(0,t.jsx)("div",{className:(0,r.cn)("uppercase absolute top-10 sm:top-0 right-0 text-[86px] xs:text-[100px] sm:text-[150px] md:text-[200px] leading-none font-bold font-serif text-foreground/10 md:text-foreground/5 -z-10 select-none pointer-events-none",p),children:g&&y?(0,t.jsx)(a.M,{action:"circle",color:"#FF9800",strokeWidth:1.5,animationDuration:600,iterations:2,padding:2,children:(0,t.jsx)("span",{children:d})}):(0,t.jsx)("span",{children:d})})]})}},3999:(e,n,s)=>{"use strict";s.d(n,{cn:()=>l,l:()=>a});var t=s(2596),r=s(9688);function l(){for(var e=arguments.length,n=Array(e),s=0;s<e;s++)n[s]=arguments[s];return(0,r.QP)((0,t.$)(n))}function a(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",s="0123456789",t="";for(let r=0;r<5;r++)r%2==0?t+=n.charAt((e.charCodeAt(r%e.length)+r)%n.length):t+=s.charAt((e.charCodeAt(r%e.length)+r)%s.length);return"REF-".concat(t)}},4633:(e,n,s)=>{Promise.resolve().then(s.bind(s,6276)),Promise.resolve().then(s.bind(s,8692))},6276:(e,n,s)=>{"use strict";s.d(n,{ArticleDetail:()=>x});var t=s(5155),r=s(2115),l=s(3781),a=s(8747);let o=encodeURIComponent;function i(e){let{url:n,title:s,tags:l}=e,a=null!=n?n:"",i=l&&l.length?l.map(e=>"#".concat(e)).join(" "):"",c="".concat(s).concat(i?" — "+i:""),d=[{label:"Twitter",href:"https://twitter.com/intent/tweet?url=".concat(o(a),"&text=").concat(o(c))},{label:"LinkedIn",href:"https://www.linkedin.com/shareArticle?mini=true&url=".concat(o(a),"&title=").concat(o(s))},{label:"Reddit",href:"https://www.reddit.com/submit?url=".concat(o(a),"&title=").concat(o(s))}],[h,x]=(0,r.useState)(!1),p=(0,r.useRef)(null),u=async()=>{try{await navigator.clipboard.writeText(a),x(!0),p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>x(!1),1500)}catch(e){}};return(0,r.useEffect)(()=>()=>{p.current&&window.clearTimeout(p.current)},[]),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[d.map(e=>(0,t.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer","aria-label":"Share on ".concat(e.label),className:"text-[10px] uppercase tracking-widest border border-foreground/50 text-foreground px-2 py-1 hover:bg-foreground hover:text-background transition",children:e.label},e.label)),(0,t.jsx)("button",{onClick:u,"aria-label":"Copy link to clipboard",className:"cursor-pointer text-[10px] uppercase tracking-widest border px-2 py-1 transition-colors "+(h?"border-foreground bg-foreground text-background":"border-foreground/60 text-foreground hover:bg-foreground hover:text-background"),children:h?"Copied!":"Copy Link"}),(0,t.jsx)("span",{className:"sr-only","aria-live":"polite",role:"status",children:h?"Link copied to clipboard":""})]})}function c(){let[e,n]=(0,r.useState)([]),[s,l]=(0,r.useState)("");return((0,r.useEffect)(()=>{let e=()=>{let e=Array.from(document.querySelectorAll("article h2, article h3"));return n(e.map(e=>{if(!e.id){let n=e.innerText.trim().toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-"),s=n||"section",t=1;for(;document.getElementById(s);)s="".concat(n,"-").concat(t++);e.id=s}let n="h2"===e.tagName.toLowerCase()?2:3;return{id:e.id,text:e.innerText,level:n}})),e},s=requestAnimationFrame(()=>{e().forEach(e=>t.observe(e))}),t=new IntersectionObserver(e=>{let n=e.filter(e=>e.isIntersecting).sort((e,n)=>e.boundingClientRect.top<n.boundingClientRect.top?-1:1);n[0]&&l(n[0].target.id)},{rootMargin:"-20% 0px -70% 0px",threshold:[0,1]}),r=new MutationObserver(()=>{e().forEach(e=>t.observe(e))});return r.observe(document.body,{childList:!0,subtree:!0}),()=>{cancelAnimationFrame(s),t.disconnect(),r.disconnect()}},[]),0===e.length)?null:(0,t.jsxs)("nav",{"aria-label":"Table of contents",className:"border-l pl-4 text-sm",children:[(0,t.jsx)("div",{className:"mb-2 text-xs uppercase tracking-widest text-foreground",children:"Contents"}),(0,t.jsx)("ul",{className:"space-y-2",children:e.map(e=>(0,t.jsx)("li",{className:3===e.level?"ml-3":"",children:(0,t.jsx)("a",{href:"#".concat(e.id),className:"hover:underline "+(s===e.id?"text-foreground":"text-foreground/70"),children:e.text})},e.id))})]})}var d=s(9391),h=s(706);function x(e){let{title:n,dek:s,children:r,id:o="dispatch-article",newspaperTitle:x="The Developer Times • Est. 2000 • Volume V",decorativeText:u="PRESS",displayDate:j,category:y,tags:g,url:f,related:m,readTimeMin:b}=e;return(0,t.jsxs)(l.w,{id:o,title:x,heading:n,tagline:s,decorativeText:u,headingSize:"small",children:[(0,t.jsxs)("div",{className:"mb-6 flex flex-col gap-2 text-[10px] sm:text-[11px] md:text-xs uppercase tracking-widest text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap overflow-x-auto",children:[j&&(0,t.jsx)("span",{children:j}),y&&(0,t.jsx)("span",{children:"•"}),y&&(0,t.jsx)("span",{children:y}),"number"==typeof b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:[b," min read"]})]})]}),(0,t.jsx)(i,{url:f,title:n,tags:g})]}),(0,t.jsx)("div",{className:"lg:hidden mb-6",children:(0,t.jsx)(p,{children:(0,t.jsx)(c,{})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_280px] gap-8",children:[(0,t.jsx)(a.h,{children:(0,t.jsx)("article",{className:"prose prose-invert max-w-none",children:r})}),(0,t.jsx)("aside",{className:"hidden lg:block lg:sticky lg:top-24 self-start",children:(0,t.jsx)(c,{})})]}),(0,t.jsxs)("div",{className:"mt-10 border-t border-foreground/20 pt-6",children:[g&&g.length>0&&(0,t.jsx)("div",{className:"mb-4 flex flex-wrap gap-2",children:g.map(e=>(0,t.jsxs)("a",{href:"/press/?tag=".concat(encodeURIComponent(e)),className:"text-[10px] font-serif uppercase border border-foreground/60 text-foreground px-2 py-1 hover:bg-foreground hover:text-background transition",children:["#",e]},e))}),m&&m.length>0&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-widest text-muted-foreground mb-3",children:"Related Dispatches"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:m.map(e=>(0,t.jsxs)("a",{href:"/press/".concat(e.slug,"/"),className:"block p-3 border border-foreground/20 hover:bg-background/80",children:[(0,t.jsx)("div",{className:"text-[10px] uppercase tracking-widest text-muted-foreground mb-1",children:e.category}),(0,t.jsx)("div",{className:"font-serif font-semibold text-sm leading-snug",children:e.title})]},e.slug))})]}),(0,t.jsxs)("div",{className:"mt-10 p-5 border border-foreground/30 bg-background/80 text-center",children:[(0,t.jsx)("div",{className:"font-serif text-lg",children:"Need a seasoned engineer for your next investigation?"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Performance, product engineering, and dev experience — book a consultation."}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("a",{href:"https://calendly.com/salaarkhan-dev/detective-s-desk-appointment-20-min-clone",target:"_blank",rel:"noopener noreferrer","aria-label":"Schedule an Interview",onClick:()=>(0,h.s)({action:"article_cta_click",category:"engagement",label:"Schedule an Interview"}),children:(0,t.jsx)(d.R,{variant:"default",className:"px-5",children:"Schedule an Interview"})})}),(0,t.jsx)("div",{className:"mt-2 text-[10px] sm:text-xs text-muted-foreground font-sans italic",children:"Hot off the press: 20 minutes to headline your idea."})]})]})]})}function p(e){let{children:n}=e,[s,l]=(0,r.useState)(!1),a=(0,r.useRef)(null),[o,i]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e=a.current;if(!e)return;let n=()=>i(e.scrollHeight);n();let s=new ResizeObserver(n);return s.observe(e),()=>s.disconnect()},[n]),(0,t.jsxs)("div",{className:"border border-foreground/20",children:[(0,t.jsxs)("button",{type:"button",className:"w-full flex items-center justify-between px-3 py-2 text-xs uppercase tracking-widest bg-background/60 hover:bg-background/80","aria-expanded":s,"aria-controls":"toc-mobile-panel",onClick:()=>l(e=>!e),children:[(0,t.jsx)("span",{children:"Contents"}),(0,t.jsx)("span",{className:"ml-2 text-[10px]",children:s?"−":"+"})]}),(0,t.jsx)("div",{id:"toc-mobile-panel",ref:a,onClick:e=>{e.target.closest("a")&&l(!1)},style:{maxHeight:s?o:0,opacity:+!!s,overflow:"hidden",transition:"max-height 250ms ease, opacity 200ms ease"},className:"px-3 bg-background/40",children:(0,t.jsx)("div",{className:"py-3",children:n})})]})}},7597:(e,n,s)=>{"use strict";s.d(n,{TorchProvider:()=>i,i:()=>o});var t=s(5155),r=s(2115),l=s(1362);let a=(0,r.createContext)(void 0),o=()=>{let e=(0,r.useContext)(a);if(!e)throw Error("useTorch must be used within a TorchProvider");return e},i=e=>{let{children:n}=e,[s,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),{theme:x}=(0,l.D)();(0,r.useEffect)(()=>{h(!0);let e=()=>{let e="ontouchstart"in window||navigator.maxTouchPoints>0,n=window.screen.width;window.screen.height,c(!e||n>=1024)};e(),window.addEventListener("resize",e);let n=localStorage.getItem("torch-enabled");return null!==n&&o("true"===n),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{d&&"dark"!==x&&s&&p(!1)},[x,d]);let p=e=>{o(e),d&&localStorage.setItem("torch-enabled",e.toString())};return(0,t.jsx)(a.Provider,{value:{torchEnabled:s,setTorchEnabled:p,isDesktop:i},children:n})}},8692:(e,n,s)=>{"use strict";s.d(n,{MDXRenderer:()=>d});var t=s(5155);s(2115);var r=s(3545),l=s(2475);function a(e){let n={a:"a",code:"code",em:"em",figure:"figure",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"tracing-the-signal",children:["Tracing the Signal",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#tracing-the-signal",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"An after-hours investigation into a flickering bug that only confessed under pressure."})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"The Lead."})," A sporadic failure whispered across logs — too quick to hold, too costly to ignore. Our goal: catch it in the act without scaring it off."]}),"\n",(0,t.jsx)(l.ab,{children:"“Bugs hide in timing. Make time visible.”"}),"\n",(0,t.jsxs)(n.h2,{id:"method",children:["Method",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#method",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsx)(l.WK,{title:"Instrumentation",children:(0,t.jsx)(n.p,{children:"We added trace spans around suspected critical sections and widened sampling\nat the edges."})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Isolate concurrency hotspots"}),"\n",(0,t.jsx)(n.li,{children:"Reproduce under load"}),"\n",(0,t.jsx)(n.li,{children:"Validate with trace correlation"}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"sample-trace-span",children:["Sample Trace Span",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#sample-trace-span",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,t.jsx)(n.pre,{className:"Noir Ink",tabIndex:"0","data-language":"ts","data-theme":"Noir Ink",children:(0,t.jsxs)(n.code,{"data-language":"ts","data-theme":"Noir Ink",style:{display:"grid"},children:[(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"import"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:" {"}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" trace"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:" }"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" from"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:' "'}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:"@opentelemetry/api"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:'"'}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:";"})]}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"export"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" async"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" function"}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:" loadCustomer"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"("}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"id"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:":"}),(0,t.jsx)(n.span,{style:{color:"#5E7EAE"},children:" string"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:")"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:" {"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"  return"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" await"}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" trace"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"    ."}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:"getTracer"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"("}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:'"'}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:"investigation"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:'"'}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:")"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"    ."}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:"startActiveSpan"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"("}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:'"'}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:"loadCustomer"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:'"'}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:","}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" async"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:" ("}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"span"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:")"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" =>"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:" {"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"      try"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:" {"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"        span"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"."}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:"setAttribute"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"("}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:'"'}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:"customer.id"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:'"'}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:","}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" id"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:")"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:";"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"        const"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:" ["}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"profile"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:","}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" orders"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"]"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" ="}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" await"}),(0,t.jsx)(n.span,{style:{color:"#5E7EAE"},children:" Promise"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"."}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:"all"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"(["})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#839073"},children:"          getProfile"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"("}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"id"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:")"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:","})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#839073"},children:"          getOrders"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"("}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"id"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:")"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:","})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"        ])"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:";"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"        return"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:" {"}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" profile"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:","}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" orders"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:" };"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"      }"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" finally"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:" {"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"        span"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"."}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:"end"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"()"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:";"})]}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"      }"})}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"    }"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:")"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:";"})]}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"}"})})]})})}),"\n",(0,t.jsxs)(n.h3,{id:"visual-evidence",children:["Visual Evidence",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#visual-evidence",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsx)(l.Dn,{src:"gallery/12.jpg",alt:"Oscilloscope-like trace timeline with highlighted critical section",caption:"Trace view revealing a tight cluster of spans suggesting contention.",width:1200,height:750}),"\n",(0,t.jsxs)(n.h2,{id:"findings",children:["Findings",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#findings",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Contended shared state"})," — a mutex around a hot path serialized requests."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Non-deterministic scheduling"})," — an async retry raced with cache refresh."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hidden retry loops"})," — exponential backoff amplified pressure at peak."]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"before-vs-after-pseudo",children:["Before vs After (Pseudo)",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#before-vs-after-pseudo",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,t.jsx)(n.pre,{className:"Noir Ink",tabIndex:"0","data-language":"diff","data-theme":"Noir Ink",children:(0,t.jsxs)(n.code,{"data-language":"diff","data-theme":"Noir Ink",style:{display:"grid"},children:[(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#D24A3B"},children:"- // before"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#D24A3B"},children:"- if (!cache.has(key)) {"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#D24A3B"},children:"-   // two callers can enter before write completes"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#D24A3B"},children:"-   const fresh = await refresh(key);"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#D24A3B"},children:"-   cache.set(key, fresh);"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#D24A3B"},children:"- }"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#D24A3B"},children:"- return cache.get(key);"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#2FAA74"},children:"+ // after"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#2FAA74"},children:"+ const fresh = await singleflight.do(key, async () => {"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#2FAA74"},children:"+   if (cache.has(key)) return cache.get(key);"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#2FAA74"},children:"+   const value = await refresh(key);"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#2FAA74"},children:"+   cache.set(key, value);"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#2FAA74"},children:"+   return value;"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#2FAA74"},children:"+ });"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#2FAA74"},children:"+ return fresh;"})})]})})}),"\n",(0,t.jsxs)(n.h3,{id:"benchmark-snapshot",children:["Benchmark Snapshot",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#benchmark-snapshot",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,t.jsx)(n.pre,{className:"Noir Ink",tabIndex:"0","data-language":"bash","data-theme":"Noir Ink",children:(0,t.jsxs)(n.code,{"data-language":"bash","data-theme":"Noir Ink",style:{display:"grid"},children:[(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#839073"},children:"$"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:" autocannon"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:" -c"}),(0,t.jsx)(n.span,{style:{color:"#BC6E48"},children:" 64"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:" -d"}),(0,t.jsx)(n.span,{style:{color:"#BC6E48"},children:" 20"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:" http://localhost:3000/api/resource"})]}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#839073"},children:"Stat"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:"         Before"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:"    After"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#839073"},children:"----------"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:"   -------"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:"   -------"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#839073"},children:"Req/Sec"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:"      1,240"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:"     5,980"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#839073"},children:"Latency"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:" p95"}),(0,t.jsx)(n.span,{style:{color:"#BC6E48"},children:"  820"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:" ms"}),(0,t.jsx)(n.span,{style:{color:"#BC6E48"},children:"    140"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:" ms"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#839073"},children:"Errors"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:"       1.8%"}),(0,t.jsx)(n.span,{style:{color:"#D8A15E"},children:"      0.0%"})]})]})})}),"\n",(0,t.jsxs)(n.h2,{id:"field-notes",children:["Field Notes",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#field-notes",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Signal"}),(0,t.jsx)(n.th,{children:"Tool"}),(0,t.jsx)(n.th,{children:"Outcome"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Spiky latency"}),(0,t.jsx)(n.td,{children:"Trace + Logs"}),(0,t.jsx)(n.td,{children:"Correlated spans"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Cache thrash"}),(0,t.jsx)(n.td,{children:"Flamegraph"}),(0,t.jsx)(n.td,{children:"Hot path isolated"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Retry amplification"}),(0,t.jsx)(n.td,{children:"Metrics + Traces"}),(0,t.jsx)(n.td,{children:"Backoff tuned"})]})]})]}),"\n",(0,t.jsx)(l.WK,{title:"List",bullet:"star",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Guard hot path with single-flight"}),(0,t.jsx)("li",{children:"Add idempotency to refresh"}),(0,t.jsx)("li",{children:"Cap retries with jitter"}),(0,t.jsx)("li",{children:"Run chaos test during peak hours"})]})}),"\n",(0,t.jsxs)(n.h2,{id:"code-minimal-single-flight",children:["Code: Minimal Single-Flight",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#code-minimal-single-flight",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsx)(n.figure,{"data-rehype-pretty-code-figure":"",children:(0,t.jsx)(n.pre,{className:"Noir Ink",tabIndex:"0","data-language":"ts","data-theme":"Noir Ink",children:(0,t.jsxs)(n.code,{"data-language":"ts","data-theme":"Noir Ink",style:{display:"grid"},children:[(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#5E7EAE",fontWeight:"bold"},children:"class"}),(0,t.jsx)(n.span,{style:{color:"#5E7EAE"},children:" SingleFlight"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"<"}),(0,t.jsx)(n.span,{style:{color:"#5E7EAE"},children:"T"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:">"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:" {"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"  private"}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" inFlight"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" ="}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" new"}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:" Map"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"<"}),(0,t.jsx)(n.span,{style:{color:"#5E7EAE"},children:"string"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:","}),(0,t.jsx)(n.span,{style:{color:"#5E7EAE"},children:" Promise"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"<"}),(0,t.jsx)(n.span,{style:{color:"#5E7EAE"},children:"T"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:">>"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"()"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:";"})]}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"  async"}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:" do"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"("}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"key"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:":"}),(0,t.jsx)(n.span,{style:{color:"#5E7EAE"},children:" string"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:","}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:" fn"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:":"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:" ()"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" =>"}),(0,t.jsx)(n.span,{style:{color:"#5E7EAE"},children:" Promise"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"<"}),(0,t.jsx)(n.span,{style:{color:"#5E7EAE"},children:"T"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:">)"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:":"}),(0,t.jsx)(n.span,{style:{color:"#5E7EAE"},children:" Promise"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"<"}),(0,t.jsx)(n.span,{style:{color:"#5E7EAE"},children:"T"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:">"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:" {"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"    const"}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" existing"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" ="}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" this"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"."}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"inFlight"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"."}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:"get"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"("}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"key"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:")"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:";"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"    if"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:" ("}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"existing"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:") "}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"return"}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" existing"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:";"})]}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"    const"}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" p"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" ="}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:" fn"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"()"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"."}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:"finally"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"("}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"()"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" =>"}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" this"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"."}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"inFlight"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"."}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:"delete"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"("}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"key"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"))"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:";"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"    this"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"."}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"inFlight"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"."}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:"set"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"("}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:"key"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:","}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" p"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:")"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:";"})]}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"    return"}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" p"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:";"})]}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"  }"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"}"})}),"\n",(0,t.jsx)(n.span,{"data-line":"",children:" "}),"\n",(0,t.jsxs)(n.span,{"data-line":"",children:[(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:"export"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" const"}),(0,t.jsx)(n.span,{style:{color:"#6E6B66"},children:" singleflight"}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" ="}),(0,t.jsx)(n.span,{style:{color:"#3F5D89",fontWeight:"bold"},children:" new"}),(0,t.jsx)(n.span,{style:{color:"#839073"},children:" SingleFlight"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:"<"}),(0,t.jsx)(n.span,{style:{color:"#5E7EAE"},children:"any"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:">"}),(0,t.jsx)(n.span,{style:{color:"#BBBBBB"},children:"()"}),(0,t.jsx)(n.span,{style:{color:"#7F7A73"},children:";"})]})]})})}),"\n",(0,t.jsxs)(n.h2,{id:"disposition",children:["Disposition",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#disposition",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsx)(n.p,{children:"The process is clean now; the alibi no longer holds. Latency is steady, retries are tamed, and traces read like a confession rather than a mystery."})]})}function o(e){let n={a:"a",em:"em",h1:"h1",h2:"h2",p:"p",span:"span",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"ink-over-glitter",children:["Ink Over Glitter",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#ink-over-glitter",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsx)("div",{className:"uppercase tracking-widest text-[10px] font-serif text-muted-foreground mt-1",children:(0,t.jsx)(n.p,{children:"By Salaar Khan"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"A modest paper, folded and stapled with code. A little vintage on the outside, a little modern under the hood."})}),"\n",(0,t.jsx)(l.Dn,{src:"press/first-edition/banner.jpg",alt:"First Edition",width:1200,height:675}),"\n",(0,t.jsx)(l.Uj,{children:(0,t.jsx)(n.p,{children:"I didn’t want a glossy billboard. Most portfolios scream in neon: giant\ncolors, spinning widgets, animations that never sit still. That wasn’t my\nbeat. I wanted something smaller, something that reads more like a paper you\npick up at the corner stand. Quiet typography. A page that trusts words and\nstructure. Design that holds its tongue until the story speaks."})}),"\n"," ","\n",(0,t.jsx)(l.ab,{children:"Keep the page quiet."}),"\n"," ","\n",(0,t.jsxs)(n.h2,{id:"the-pressroom",children:["The Pressroom",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#the-pressroom",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsx)(n.p,{children:"The inspiration came out of fatigue. Scroll long enough and everything starts to look like the same startup brochure. I wanted a page that could grow like a column in a newspaper: clear type, simple hierarchy, and no decoration that doesn’t earn its ink. One type family, one spacing rhythm, and a toolbox small enough to fit in your jacket pocket."}),"\n",(0,t.jsx)(n.p,{children:"I built in the browser, no ceremony. The trick was to keep cutting. Every shiny piece I tried gone. What stayed are the bones: speed, clarity, repeatable parts."}),"\n",(0,t.jsxs)(n.h2,{id:"noir-ink",children:["Noir Ink",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#noir-ink",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsxs)(n.p,{children:["When I built this, light mode felt like a newspaper and that worked. Dark mode didn’t carry the same vibe, so I tried something different. I added a ",(0,t.jsx)(l.z2,{iterations:3,children:"torch"})," you can switch on. It follows the cursor and sometimes reveals something extra \uD83E\uDD2B. I paired it with a low ",(0,t.jsx)(l.z2,{children:"vinyl jazz"})," bed so reading stays warm. Now the page reads like news by day and noir at night."]}),"\n",(0,t.jsxs)(n.h2,{id:"what-this-says-about-my-work",children:["What This Says About My Work",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#what-this-says-about-my-work",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsx)(n.p,{children:"I’m not a designer by trade. I’m a developer who happens to like old paper, typewriters, and the way ink smudges on cheap newsprint. I take those scraps of vintage mood and line them up with code. What comes out is simple, fast, and a little rough on purpose. I’d rather cut the noise, keep the rhythm steady, and let the work speak than dress it in decoration. It may not be perfect, but it’s mine and it ships."}),"\n",(0,t.jsxs)(n.h2,{id:"closing-notes",children:["Closing Notes",(0,t.jsx)(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#closing-notes",children:(0,t.jsx)(n.span,{className:"icon icon-link"})})]}),"\n",(0,t.jsxs)(n.p,{children:["This is the first edition, there may be rough edges. I would love your feedback and suggestions. If you have a minute, please leave a note in the ",(0,t.jsx)("a",{href:"/#endorsements",className:"underline decoration-dotted underline-offset-4 transition-colors",children:"endorsements"})," section."]})]})}let i={"tracing-the-signal":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)},"first-edition":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}};var c=s(8747);function d(e){let{slug:n}=e,s=i[n];return s?(0,t.jsx)(c.h,{children:(0,t.jsx)(s,{})}):null}},8747:(e,n,s)=>{"use strict";s.d(n,{h:()=>h});var t=s(5155),r=s(2115),l=s(3545),a=s(3999),o=s(2475),i=s(833);function c(e){var n,s,l;let a=null==e?void 0:e.children,o=a&&"string"==typeof a.type&&"code"===a.type?a:null,i=((null==(s=((null==o||null==(n=o.props)?void 0:n.className)||"").match(/language-(\w+)/))?void 0:s[1])||"").toUpperCase(),c=null==o||null==(l=o.props)?void 0:l.children,d="string"==typeof c?c:"",h=r.useRef(null),[x,p]=r.useState(!1),u=r.useRef(0),j=async()=>{var e,n,s,t,r,l,a,o;let i=Date.now();if(!(i-u.current<250)){u.current=i;try{let t=null!=(s=null==(n=h.current)||null==(e=n.querySelector("code"))?void 0:e.textContent)?s:d;await navigator.clipboard.writeText(t)}catch(n){let e=null!=(l=null==(r=h.current)||null==(t=r.querySelector("code"))?void 0:t.textContent)?l:d;(e=>{try{let n=document.createElement("textarea");return n.value=e,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),!0}catch(e){return!1}})(null!=e?e:"")}finally{if(p(!0),"undefined"!=typeof navigator&&"vibrate"in navigator)try{null==(a=(o=navigator).vibrate)||a.call(o,10)}catch(e){}window.setTimeout(()=>p(!1),1500)}}};return(0,t.jsxs)("div",{className:"group relative my-6 border border-foreground/20 bg-background/70",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-3 py-1 text-[10px] uppercase tracking-widest text-muted-foreground border-b border-foreground/10",children:[(0,t.jsx)("span",{"aria-live":"polite",children:i||"CODE"}),(0,t.jsxs)("button",{onClick:j,onTouchEnd:j,"aria-label":x?"Copied":"Copy code",className:"relative select-none cursor-pointer inline-grid place-items-center rounded px-2 py-0.5 opacity-80 hover:opacity-100 transition-all duration-150 border border-transparent hover:border-foreground/20 w-[72px] h-6 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-foreground/30",children:[(0,t.jsx)("span",{className:"pointer-events-none text-[11px] transition-opacity ".concat(x?"opacity-0":"opacity-100"),children:"Copy"}),(0,t.jsx)("span",{className:"pointer-events-none absolute inset-0 grid place-items-center text-[11px] transition-opacity ".concat(x?"opacity-100":"opacity-0"),children:"Copied!"})]})]}),(0,t.jsx)("pre",{ref:h,className:"code-pre overflow-x-auto p-4 m-0 font-mono text-[12.5px] md:text-[13px] leading-6",children:e.children})]})}let d={StampBadge:o.RJ,PullQuote:o.ab,EvidenceCallout:o.WK,Figure:o.Dn,Mark:o.CU,Strike:o.n,Cross:o.FB,Underline:o.z2,Circle:o.jl,Box:o.az,Bracket:o.dr,Highlighter:i.M,pre:e=>(0,t.jsx)(c,{...e}),DropCap:o.Uj,h1:e=>(0,t.jsx)("h1",{...e,className:(0,a.cn)("font-serif text-3xl md:text-4xl font-bold mt-6",e.className)}),h2:e=>(0,t.jsx)("h2",{...e,className:(0,a.cn)("font-serif text-2xl md:text-3xl font-bold mt-5",e.className)}),h3:e=>(0,t.jsx)("h3",{...e,className:(0,a.cn)("font-serif text-xl md:text-2xl font-semibold mt-4",e.className)}),p:e=>(0,t.jsx)("p",{...e,className:(0,a.cn)("leading-relaxed my-4",e.className)}),a:e=>(0,t.jsx)("a",{...e,className:(0,a.cn)("underline underline-offset-2",e.className)}),ul:e=>(0,t.jsx)("ul",{...e,className:(0,a.cn)("list-disc pl-6 my-4",e.className)}),ol:e=>(0,t.jsx)("ol",{...e,className:(0,a.cn)("list-decimal pl-6 my-4",e.className)}),blockquote:e=>(0,t.jsx)("blockquote",{...e,className:(0,a.cn)("border-l pl-4 italic my-4",e.className)}),table:e=>(0,t.jsx)("div",{className:"my-4 overflow-x-auto",children:(0,t.jsx)("table",{...e,className:(0,a.cn)("w-full text-sm border border-foreground/20 bg-background",e.className)})}),thead:e=>(0,t.jsx)("thead",{...e,className:(0,a.cn)("bg-foreground/5",e.className)}),tbody:e=>(0,t.jsx)("tbody",{...e,className:(0,a.cn)("",e.className)}),tr:e=>(0,t.jsx)("tr",{...e,className:(0,a.cn)("border-b border-foreground/15",e.className)}),th:e=>(0,t.jsx)("th",{...e,className:(0,a.cn)("text-left font-semibold px-3 py-2 border-r border-foreground/15",e.className)}),td:e=>(0,t.jsx)("td",{...e,className:(0,a.cn)("px-3 py-2 align-top border-r border-foreground/10",e.className)})};function h(e){let{children:n}=e;return(0,t.jsx)(o.J,{children:(0,t.jsx)(l.x,{components:d,children:n})})}},9391:(e,n,s)=>{"use strict";s.d(n,{R:()=>a});var t=s(5155),r=s(3999),l=s(1154);function a(e){let{children:n,className:s,onClick:a,type:o="button",variant:i="default",isLoading:c=!1,disabled:d=!1}=e,h=c?"cursor-wait":"";return(0,t.jsx)("button",{type:o,onClick:a,disabled:d||c,className:(0,r.cn)("inline-flex items-center justify-center px-6 py-3 font-serif text-sm tracking-wider uppercase transition-all duration-200 relative",{default:"bg-foreground text-background hover:bg-foreground/90",outline:"border border-foreground/30 bg-background/90 hover:bg-foreground/5",ghost:"hover:bg-foreground/5"}[i],d||c?"opacity-50 cursor-not-allowed":"cursor-pointer",h,"group",s),children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-2",children:[c&&(0,t.jsx)(l.A,{className:"h-4 w-4 animate-spin"}),n]})})}},9946:(e,n,s)=>{"use strict";s.d(n,{A:()=>i});var t=s(2115);let r=e=>{let n=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());return n.charAt(0).toUpperCase()+n.slice(1)},l=function(){for(var e=arguments.length,n=Array(e),s=0;s<e;s++)n[s]=arguments[s];return n.filter((e,n,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===n).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,t.forwardRef)((e,n)=>{let{color:s="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:h,...x}=e;return(0,t.createElement)("svg",{ref:n,...a,width:r,height:r,stroke:s,strokeWidth:i?24*Number(o)/Number(r):o,className:l("lucide",c),...!d&&!(e=>{for(let n in e)if(n.startsWith("aria-")||"role"===n||"title"===n)return!0})(x)&&{"aria-hidden":"true"},...x},[...h.map(e=>{let[n,s]=e;return(0,t.createElement)(n,s)}),...Array.isArray(d)?d:[d]])}),i=(e,n)=>{let s=(0,t.forwardRef)((s,a)=>{let{className:i,...c}=s;return(0,t.createElement)(o,{ref:a,iconNode:n,className:l("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...c})});return s.displayName=r(e),s}}},e=>{e.O(0,[578,243,441,964,358],()=>e(e.s=4633)),_N_E=e.O()}]);