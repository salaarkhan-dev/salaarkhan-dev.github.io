(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[758],{93:(e,t,n)=>{"use strict";function a(e){let{src:t,width:n,quality:a}=e,r="f_auto,q_auto,w_".concat(n).concat(a?",q_".concat(a):""),o=t.startsWith("/")?t.slice(1):t;return"".concat("https://res.cloudinary.com/".concat("dnpxalm5i","/image/upload"),"/").concat(r,"/").concat("gh-pages/public","/").concat(o)}function r(e){let t=e.startsWith("/")?e.slice(1):e;return"https://res.cloudinary.com/".concat("dnpxalm5i","/video/upload/").concat("gh-pages/public","/").concat(t)}n.r(t),n.d(t,{default:()=>a,getCloudinaryAudioUrl:()=>r})},833:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var a=n(5155),r=n(2115),o=n(7645);function i(e){let{children:t,action:n="highlight",color:i="#ffd1dc",strokeWidth:s=1.5,animationDuration:l=600,iterations:c=2,padding:d=2,multiline:u=!0}=e,m=(0,r.useRef)(null),p=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=m.current;if(e){let t=(0,o.f)(e,{type:n,color:i,strokeWidth:s,animationDuration:l,iterations:c,padding:d,multiline:u});return p.current=t,t.show(),()=>{try{var e;null==(e=p.current)||e.remove()}catch(e){}finally{p.current=null}}}},[n,i,s,l,c,d,u]),(0,a.jsx)("span",{ref:m,className:"relative inline-block bg-transparent",children:t})}},1011:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var a=n(5155),r=n(2115),o=n(3781),i=n(6766),s=n(93),l=n(3999);function c(e){let{id:t,position:n,startAngle:o=285,stepAngle:i=36,steps:c=10,color:d="#A37C43",onStepChange:u,controlledStep:m,className:p="",thicknessPct:h=3}=e,[f,x]=(0,r.useState)(0),g=null!=m?m:f,v=(0,r.useRef)(null);(0,r.useEffect)(()=>(v.current=new Audio,()=>{v.current&&(v.current.pause(),v.current=null)}),[]);let w=(0,r.useMemo)(()=>{var e,t;return{top:n.top,left:n.left,width:void 0!==n.sizePct?"".concat(n.sizePct,"%"):null!=(e=n.size)?e:"3.5rem",...void 0!==n.sizePct?{height:"auto",aspectRatio:"1 / 1"}:{height:null!=(t=n.size)?t:"3.5rem"},borderRadius:"50%"}},[n]),y=(0,r.useMemo)(()=>({height:"50%",top:"50%",left:"50%",width:"".concat(h,"%"),transform:"translate(-50%, -100%) rotate(".concat(o+g*i,"deg)"),transformOrigin:"bottom center",backgroundColor:d}),[o,g,i,d,h]);return(0,a.jsx)("div",{id:t,onClick:()=>{let e=(g+1)%c;void 0===m&&x(e),null==u||u(e);try{if(!v.current)return;v.current.pause(),v.current.src=(0,s.getCloudinaryAudioUrl)("sounds/knob-click.mp3"),v.current.currentTime=0,v.current.volume=.28,v.current.play()}catch(e){}},className:(0,l.cn)("absolute rounded-full flex items-center justify-center cursor-pointer",p),style:w,children:(0,a.jsx)("div",{className:"absolute rounded-sm blur-[0.5px]",style:y})})}let d=null,u=null,m=null,p=new WeakMap;function h(){return d||((u=(d=new(window.AudioContext||window.webkitAudioContext)).createGain()).gain.value=1,(m=d.createBiquadFilter()).type="lowpass",m.frequency.value=12e3,m.Q.value=1e-4,m.connect(u),u.connect(d.destination)),d}function f(e){let t=h();if(t&&m&&!p.has(e))try{let n=t.createMediaElementSource(e);n.connect(m),p.set(e,n)}catch(e){}}function x(e){if(h(),!m)return;let t=Math.max(0,Math.min(2,Math.round(e)));m.frequency.value=[9e3,2500,500][t]}async function g(){let e=h();try{e&&"running"!==e.state&&await e.resume()}catch(e){}}function v(){let e=h();return!!e&&"running"===e.state}function w(e){let{label:t,audioPath:n,onSoundPath:o="sounds/switch-off.mp3",offSoundPath:i="sounds/switch-off.mp3",checked:l,defaultChecked:c,onChange:d,volume:u=0,className:m="",size:p="clamp(0.6rem, 1vw, 1rem)"}=e,[h,x]=(0,r.useState)(!!c),v="boolean"==typeof l,w=v?!!l:h,y=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!n)return;y.current||(y.current=new Audio);let e=y.current;e.crossOrigin="anonymous",e.src=(0,s.getCloudinaryAudioUrl)(n),e.loop=!0,e.preload="auto",f(e);try{e.load()}catch(e){}let t=()=>{console.error("Audio failed to load:",e.src)};e.addEventListener("error",t);let a=async()=>{try{await g(),(v?!!l:h)&&(e.currentTime=0,await e.play().catch(e=>{console.warn("Audio play() rejected:",e)}))}catch(e){}};return e.addEventListener("canplay",a,{once:!0}),()=>{e.removeEventListener("error",t),e.removeEventListener("canplay",a)}},[n]),(0,r.useEffect)(()=>()=>{y.current&&(y.current.pause(),y.current=null)},[]),(0,r.useEffect)(()=>{let e=y.current;e&&(w?(async()=>{await g();try{e.currentTime=0,await e.play()}catch(e){console.warn("Audio play() rejected on toggle:",e)}})():(e.pause(),e.currentTime=0))},[w]),(0,r.useEffect)(()=>{let e=y.current;e&&(e.volume=Math.min(.45,.45*Math.max(0,Math.min(1,(null!=u?u:0)/100))))},[u]);let b=(0,r.useMemo)(()=>({width:"0.9em",height:"0.9em",borderRadius:"50%",background:w?"radial-gradient(circle at 35% 35%, #2ecc71 0%, #1fae5a 55%, #128746 100%)":"radial-gradient(circle at 35% 35%, #a1a6ab 0%, #8e9399 55%, #6f747a 100%)",boxShadow:w?"0 0 0.35em rgba(46,204,113,0.45)":"none",marginRight:"0.5em",flex:"0 0 auto"}),[w]),k={marginLeft:"0.5em",fontFamily:"'Times New Roman', Georgia, serif",fontSize:"0.9em",letterSpacing:"0.06em",color:"#0f0c09",userSelect:"none"},j=()=>{let e=!w;v||x(e),null==d||d(e);try{let t=new Audio;t.src=(0,s.getCloudinaryAudioUrl)(e?o:i),t.volume=e?.3:.2,t.play()}catch(e){}e&&y.current&&(async()=>{try{await g();let e=y.current;e.muted=!1,await e.play()}catch(e){console.warn("Immediate play() in toggle failed:",e)}})()};return(0,a.jsxs)("div",{className:m,style:{appearance:"none",background:"transparent",border:0,margin:0,display:"flex",alignItems:"center",fontSize:p},children:[(0,a.jsx)("button",{role:"switch","aria-checked":w,"aria-label":null!=t?t:"switch",onClick:e=>{e.stopPropagation(),j()},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),j())},style:{...b,appearance:"none",border:0,padding:0,background:b.background,cursor:"pointer"}}),t?(0,a.jsx)("span",{style:{textAlign:"left",fontFamily:"'Times New Roman', Georgia, serif",letterSpacing:"0.12em",textTransform:"uppercase",color:"#2D1C12",userSelect:"none",whiteSpace:"nowrap",overflow:"hidden"},className:"text-[1em] sm:text-[1.2em]",children:t}):null,w&&u>0?(0,a.jsxs)("span",{style:k,className:"opacity-45",children:[Math.round(u),"%"]}):(0,a.jsx)("span",{style:k,className:"opacity-0",children:"100%"})]})}let y=!1,b=1,k=[],j=!1,M=0;function N(){k.forEach(e=>clearTimeout(e)),k=[]}let S=[{path:"sounds/events/door-creak.mp3",weight:1.2},{path:"sounds/events/phone-ring.mp3",weight:.4,distant:!0},{path:"sounds/events/lighter.mp3",weight:1},{path:"sounds/events/footsteps.mp3",weight:1.1},{path:"sounds/events/horse-street.mp3",weight:.7,distant:!0},{path:"sounds/events/shuffle-papers.mp3",weight:1.2},{path:"sounds/events/sirens.mp3",weight:.8,distant:!0,volumeOverride:.4},{path:"sounds/events/stamp.mp3",weight:.8},{path:"sounds/events/knock.mp3",weight:.6,distant:!0},{path:"sounds/events/drawer.mp3",weight:.8}];function A(){let e=Math.random()*S.reduce((e,t)=>e+t.weight,0);for(let t of S)if((e-=t.weight)<=0)return t;return S[0]}function E(e){if(!y)return;let{min:t,max:n}=[{min:3e4,max:8e4},{min:2e4,max:45e3},{min:12e3,max:25e3}][b],a=t+Math.random()*(n-t),r=.9+.2*Math.random(),o=null!=e?e:Math.max(1500,a*r),i=Date.now();console.debug("[random-events] scheduling next in",Math.round(o=Math.max(o,Math.max(0,M+[12e3,14e3,4e3][b]-i))),"ms");let l=window.setTimeout(async()=>{if(y){if(!v())return void E(1e3);try{let e=A(),t=new Audio;t.crossOrigin="anonymous",t.src=(0,s.getCloudinaryAudioUrl)(e.path),t.preload="auto";let n=.78;null!=e.volumeOverride?n=e.volumeOverride:e.distant&&(n=.22),t.volume=n=Math.max(0,Math.min(1,n*(.88+.24*Math.random()))),t.playbackRate=.92+.16*Math.random(),f(t),await g(),console.debug("[random-events] play",e.path),await t.play().then(()=>{M=Date.now()}).catch(()=>{});let a=[0,0,.15][b];if(Math.random()<a){let e=A(),t=new Audio;t.crossOrigin="anonymous",t.src=(0,s.getCloudinaryAudioUrl)(e.path),t.preload="auto";let n=.38;null!=e.volumeOverride?n=e.volumeOverride:e.distant&&(n=.18),t.volume=n=Math.max(0,Math.min(1,n*(.88+.24*Math.random()))),t.playbackRate=.92+.16*Math.random(),f(t),await t.play().catch(()=>{})}}finally{E()}}},o);k.push(l)}function C(e){b=Math.max(0,Math.min(2,Math.round(e)))}function P(e){let{imageSrc:t="images/radio-min.png",className:n=""}=e,[o,l]=(0,r.useState)(0),[d,u]=(0,r.useState)(0),[m,p]=(0,r.useState)(1),[h,f]=(0,r.useState)([{label:"Jazz",audioPath:"sounds/enchanted.mp3"},{label:"Rain",audioPath:"sounds/radio/rain.mp3"},{label:"Fireplace",audioPath:"sounds/radio/fireplace.mp3"},{label:"Typewriter",audioPath:"sounds/radio/typewriter.mp3"},{label:"Cafe",audioPath:"sounds/radio/cafe.mp3"},{label:"Street",audioPath:"sounds/radio/street.mp3"},{label:"Radio Static",audioPath:"sounds/radio/radio-static.mp3"},{label:"Writing",audioPath:"sounds/radio/writing.mp3"}].map(e=>({...e,checked:!1,volume:100}))),[b,k]=(0,r.useState)(null);return(0,r.useEffect)(()=>(x(d),C(m),!function(){if(y)return;y=!0,v()&&E(400+800*Math.random());let e=async()=>{try{await g()}finally{!j&&y&&(j=!0,N(),E(600))}};window.addEventListener("pointerdown",e,{once:!0,passive:!0}),window.addEventListener("keydown",e,{once:!0})}(),()=>void(y=!1,N(),j=!1)),[]),(0,a.jsxs)("div",{className:"relative w-full h-full ".concat(n),children:[(0,a.jsx)(i.default,{loader:s.default,src:t,alt:"radio",width:1400,height:1400,className:"w-full h-full object-cover",priority:!0}),(0,a.jsx)(c,{position:{top:"50%",left:"17%",sizePct:12},startAngle:240,stepAngle:30,steps:9,color:"#A37C43",thicknessPct:5,controlledStep:o,onStepChange:e=>{if(l(e),null!==b){let t=Math.round(e/8*100);f(e=>e.map((e,n)=>n===b?{...e,volume:t}:e))}}}),(0,a.jsx)(c,{position:{top:"50%",left:"43%",sizePct:12},startAngle:240,stepAngle:120,steps:3,color:"#A37C43",thicknessPct:5,controlledStep:d,onStepChange:e=>{u(e),x(e)}}),(0,a.jsx)(c,{position:{top:"50%",left:"69.5%",sizePct:12},startAngle:240,stepAngle:120,steps:3,color:"#A37C43",thicknessPct:5,controlledStep:m,onStepChange:e=>{p(e),C(e)}}),(0,a.jsx)("div",{className:"absolute grid grid-cols-2 gap-y-0 sm:gap-y-2",style:{top:"16%",left:"14%",fontSize:"clamp(8px, 0.9vw, 13px)"},children:h.map((e,t)=>(0,a.jsx)("div",{onClick:()=>{k(t),l(Math.round(e.volume/100*8)),e.checked||f(e=>e.map((e,n)=>n===t?{...e,checked:!0}:e))},className:b===t?"outline-1 outline-black/40 rounded-xs mx-1 px-1":"mx-1 px-1",children:(0,a.jsx)(w,{label:e.label,audioPath:e.audioPath,checked:e.checked,volume:e.volume,onChange:e=>f(n=>n.map((n,a)=>a===t?{...n,checked:e}:n))})},"".concat(e.label,"-").concat(t)))})]})}function T(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{var e;let n=window.matchMedia("(min-width: 640px)"),a=()=>t(n.matches);return a(),null==(e=n.addEventListener)||e.call(n,"change",a),()=>{var e;return null==(e=n.removeEventListener)?void 0:e.call(n,"change",a)}},[]),(0,a.jsx)("main",{className:"py-6",children:(0,a.jsxs)(o.w,{id:"desk",title:"Investigation Bureau • Est. 2019 • Volume IV",heading:"The Detective's Desk",tagline:"An inner-office apparatus for focused inquiry: a pocket‑watch Pomodoro, gramophone‑grade ambience, and a clerk's log to record cases solved.",decorativeText:"DESK",headingSize:"small",className:"max-w-6xl mx-auto px-4 relative",children:[e&&(0,a.jsx)(P,{}),!e&&(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-lg border border-border bg-card text-card-foreground shadow-[inset_0_1px_0_0_rgba(255,255,255,0.03)]",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-[0.06] [background-image:radial-gradient(ellipse_at_top,rgba(255,255,255,0.6),transparent_50%),radial-gradient(ellipse_at_bottom,rgba(0,0,0,0.6),transparent_50%)]"}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("p",{className:"text-[10px] tracking-[0.35em] uppercase text-foreground/50 font-semibold mb-1",children:"Notice to Readers"}),(0,a.jsx)("h3",{className:"font-serif text-lg leading-snug text-foreground",children:"Wireless Set Under Maintenance"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground font-serif",children:"Our desk radio—experimental Beta apparatus—is presently available to desktop inspectors only. The mobile edition is being tuned by the night engineer. Kindly revisit from a desktop machine."}),(0,a.jsx)("p",{className:"mt-3 text-[11px] tracking-wide text-muted-foreground/80 italic font-serif",children:"— Editorial Desk, The Developer Times"})]}),(0,a.jsx)("div",{className:"border-t border-border px-5 py-2 text-[10px] tracking-widest uppercase text-muted-foreground/80 bg-muted/30",children:"Vol. IV • Technical Bulletin • Circulation: Limited"})]})})]})})}},3781:(e,t,n)=>{"use strict";n.d(t,{w:()=>l});var a=n(5155),r=n(3999),o=n(2115),i=n(833),s=n(7597);function l(e){let{id:t,title:n,heading:l,tagline:c,decorativeText:d,children:u,className:m,decorativeTextClassName:p,headingSize:h="small",fullWidth:f=!1}=e,{torchEnabled:x}=(0,s.i)(),[g,v]=(0,o.useState)(!1);return(0,o.useEffect)(()=>v(!0),[]),(0,a.jsxs)("section",{id:t,className:(0,r.cn)("py-12 relative mx-auto ",f?"":" max-w-5xl px-4 sm:px-6",m),children:[(0,a.jsxs)("div",{className:(0,r.cn)("text-center mb-12 border-b-1 border-foreground/20 pb-6",f&&"max-w-3xl mx-auto px-4 sm:px-6 relative"),children:[(0,a.jsx)("div",{className:"text-xs uppercase tracking-widest text-muted-foreground mb-2",children:n}),"large"===h?(0,a.jsx)("h1",{className:"text-3xl md:text-5xl font-bold font-serif text-foreground",children:l}):(0,a.jsx)("h2",{className:"text-2xl md:text-3xl font-bold font-serif text-foreground",children:l}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-2 italic font-serif",children:["“",c,"“"]}),f&&(0,a.jsx)("div",{className:(0,r.cn)("uppercase absolute -top-10 -right-2 text-[86px] xs:text-[100px] sm:text-[150px] md:text-[200px] leading-none font-bold font-serif text-foreground/10 md:text-foreground/5 -z-10 select-none pointer-events-none",p),children:g&&x?(0,a.jsx)(i.M,{action:"circle",color:"#FF9800",strokeWidth:1.5,animationDuration:600,iterations:2,padding:2,children:(0,a.jsx)("span",{children:d})}):(0,a.jsx)("span",{children:d})})]}),u,!f&&(0,a.jsx)("div",{className:(0,r.cn)("uppercase absolute top-10 sm:top-0 right-0 text-[86px] xs:text-[100px] sm:text-[150px] md:text-[200px] leading-none font-bold font-serif text-foreground/10 md:text-foreground/5 -z-10 select-none pointer-events-none",p),children:g&&x?(0,a.jsx)(i.M,{action:"circle",color:"#FF9800",strokeWidth:1.5,animationDuration:600,iterations:2,padding:2,children:(0,a.jsx)("span",{children:d})}):(0,a.jsx)("span",{children:d})})]})}},3999:(e,t,n)=>{"use strict";n.d(t,{cn:()=>o,l:()=>i});var a=n(2596),r=n(9688);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.QP)((0,a.$)(t))}function i(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="0123456789",a="";for(let r=0;r<5;r++)r%2==0?a+=t.charAt((e.charCodeAt(r%e.length)+r)%t.length):a+=n.charAt((e.charCodeAt(r%e.length)+r)%n.length);return"REF-".concat(a)}},4676:(e,t,n)=>{Promise.resolve().then(n.bind(n,1011))},7597:(e,t,n)=>{"use strict";n.d(t,{TorchProvider:()=>l,i:()=>s});var a=n(5155),r=n(2115),o=n(1362);let i=(0,r.createContext)(void 0),s=()=>{let e=(0,r.useContext)(i);if(!e)throw Error("useTorch must be used within a TorchProvider");return e},l=e=>{let{children:t}=e,[n,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),{theme:m}=(0,o.D)();(0,r.useEffect)(()=>{u(!0);let e=()=>{let e="ontouchstart"in window||navigator.maxTouchPoints>0,t=window.screen.width;window.screen.height,c(!e||t>=1024)};e(),window.addEventListener("resize",e);let t=localStorage.getItem("torch-enabled");return null!==t&&s("true"===t),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{d&&"dark"!==m&&n&&p(!1)},[m,d]);let p=e=>{s(e),d&&localStorage.setItem("torch-enabled",e.toString())};return(0,a.jsx)(i.Provider,{value:{torchEnabled:n,setTorchEnabled:p,isDesktop:l},children:t})}}},e=>{e.O(0,[578,243,441,964,358],()=>e(e.s=4676)),_N_E=e.O()}]);