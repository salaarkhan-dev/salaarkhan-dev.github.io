(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{477:()=>{},833:(e,t,l)=>{"use strict";l.d(t,{M:()=>s});var r=l(5155),i=l(2115),a=l(7645);function s(e){let{children:t,action:l="highlight",color:s="#ffd1dc",strokeWidth:n=1.5,animationDuration:o=600,iterations:d=2,padding:c=2,multiline:u=!0}=e,m=(0,i.useRef)(null),x=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let e=m.current;if(e){let t=(0,a.f)(e,{type:l,color:s,strokeWidth:n,animationDuration:o,iterations:d,padding:c,multiline:u});return x.current=t,t.show(),()=>{try{var e;null==(e=x.current)||e.remove()}catch(e){}finally{x.current=null}}}},[l,s,n,o,d,c,u]),(0,r.jsx)("span",{ref:m,className:"relative inline-block bg-transparent",children:t})}},1609:(e,t,l)=>{"use strict";l.d(t,{J:()=>a});var r=l(5155),i=l(3999);let a=(0,l(2115).forwardRef)((e,t)=>{let{className:l,type:a,...s}=e;return(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("div",{className:"absolute -bottom-1 -right-1 w-full h-full border-r border-b border-foreground/20 group-hover:border-foreground/40 transition-all duration-300 -z-10"}),(0,r.jsx)("input",{type:a,className:(0,i.cn)("block w-full bg-background/80 px-3 py-2 text-sm font-serif","border border-foreground/30 focus:outline-none focus:ring-1 focus:ring-foreground/50","transition-all duration-200 placeholder:text-foreground/50",l),ref:t,...s})]})});a.displayName="VintageInput"},3781:(e,t,l)=>{"use strict";l.d(t,{Section:()=>o});var r=l(5155),i=l(3999),a=l(2115),s=l(833),n=l(7597);function o(e){let{id:t,title:l,heading:o,tagline:d,decorativeText:c,children:u,className:m,decorativeTextClassName:x,headingSize:h="small",fullWidth:p=!1}=e,{torchEnabled:g}=(0,n.i)(),[b,f]=(0,a.useState)(!1);return(0,a.useEffect)(()=>f(!0),[]),(0,r.jsxs)("section",{id:t,className:(0,i.cn)("py-12 relative mx-auto ",p?"":" max-w-5xl px-4 sm:px-6",m),children:[(0,r.jsxs)("div",{className:(0,i.cn)("text-center mb-12 border-b-1 border-foreground/20 pb-6",p&&"max-w-3xl mx-auto px-4 sm:px-6 relative"),children:[(0,r.jsx)("div",{className:"text-xs uppercase tracking-widest text-muted-foreground mb-2",children:l}),"large"===h?(0,r.jsx)("h2",{className:"text-3xl md:text-5xl font-bold font-serif text-foreground",children:o}):(0,r.jsx)("h3",{className:"text-2xl md:text-3xl font-bold font-serif text-foreground",children:o}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mt-2 italic font-serif",children:["“",d,"“"]}),p&&(0,r.jsx)("div",{className:(0,i.cn)("uppercase absolute -top-10 -right-2 text-[86px] xs:text-[100px] sm:text-[150px] md:text-[200px] leading-none font-bold font-serif text-foreground/10 md:text-foreground/5 -z-10 select-none pointer-events-none",x),children:b&&g?(0,r.jsx)(s.M,{action:"circle",color:"#FF9800",strokeWidth:1.5,animationDuration:600,iterations:2,padding:2,children:(0,r.jsx)("span",{children:c})}):(0,r.jsx)("span",{children:c})})]}),u,!p&&(0,r.jsx)("div",{className:(0,i.cn)("uppercase absolute top-10 sm:top-0 right-0 text-[86px] xs:text-[100px] sm:text-[150px] md:text-[200px] leading-none font-bold font-serif text-foreground/10 md:text-foreground/5 -z-10 select-none pointer-events-none",x),children:b&&g?(0,r.jsx)(s.M,{action:"circle",color:"#FF9800",strokeWidth:1.5,animationDuration:600,iterations:2,padding:2,children:(0,r.jsx)("span",{children:c})}):(0,r.jsx)("span",{children:c})})]})}},3999:(e,t,l)=>{"use strict";l.d(t,{D:()=>n,cn:()=>s,l:()=>o});var r=l(2596),i=l(9688),a=l(9641).Buffer;function s(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,i.QP)((0,r.$)(t))}let n=e=>window.atob?window.atob(e):a.from(e,"base64").toString("utf-8");function o(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l="0123456789",r="";for(let i=0;i<5;i++)i%2==0?r+=t.charAt((e.charCodeAt(i%e.length)+i)%t.length):r+=l.charAt((e.charCodeAt(i%e.length)+i)%l.length);return"REF-".concat(r)}},4476:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>b});var r=l(5155),i=l(2115),a=l(4767),s=l(1617),n=l(3781),o=l(1609),d=l(6341),c=l(9391),u=l(3999);let m=s.vv.create({page:{paddingTop:28,paddingBottom:28,paddingHorizontal:40,fontSize:12,fontFamily:"Times-Roman",backgroundColor:"#f4eee0",color:"#111827",flexDirection:"column"},body:{flexGrow:1},headerRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:16,borderBottomWidth:1,borderColor:"#E5E7EB",paddingBottom:8},headerLeft:{flexGrow:1,paddingRight:12},headerTitle:{fontSize:20,letterSpacing:1.5,textTransform:"uppercase",marginTop:2,fontFamily:"Times-Bold"},headerMeta:{marginTop:4,color:"#111827",fontSize:11},headerMetaRow:{marginTop:6},headerMetaLabel:{fontSize:8,letterSpacing:1.5,textTransform:"uppercase",color:"#6B7280"},headerMetaLine:{fontSize:11,fontFamily:"Courier",color:"#111827"},headerMetaEmphasis:{fontSize:11,fontFamily:"Courier",color:"#111827"},headerRight:{alignItems:"flex-end"},seal:{width:80,height:80,marginBottom:6},smallLabel:{fontSize:10,letterSpacing:1.5,textTransform:"uppercase",color:"#6B7280"},mono:{fontFamily:"Courier"},sectionRow:{flexDirection:"row",justifyContent:"space-between",marginTop:10,marginBottom:14},column:{width:"48%",paddingVertical:4,paddingHorizontal:0},sectionTitle:{fontSize:9,letterSpacing:2,textTransform:"uppercase",color:"#4B5563",marginBottom:4,fontFamily:"Courier"},nameText:{fontSize:13,fontFamily:"Times-Bold"},mutedLine:{fontSize:11,color:"#4B5563",marginTop:1},table:{borderWidth:1,borderColor:"#E4DCC8",marginBottom:14},tableHeader:{flexDirection:"row",backgroundColor:"#111827",borderBottomWidth:1,borderColor:"#E4DCC8",paddingVertical:4},tableRow:{flexDirection:"row",paddingVertical:4,borderTopWidth:.5,borderColor:"#E4DCC8",minHeight:16},colDesc:{flex:2,paddingHorizontal:6},colNumber:{flex:1,paddingHorizontal:6,textAlign:"right"},numberCellText:{fontFamily:"Courier",fontSize:11},notesAndTotalsRow:{flexDirection:"row",justifyContent:"space-between",marginTop:8},notesCol:{width:"55%",paddingRight:10},notesBody:{fontSize:11,lineHeight:1.3,color:"#111827"},paymentLine:{fontSize:11,fontFamily:"Courier",color:"#111827"},paymentLabel:{fontSize:11,fontFamily:"Courier",fontWeight:"bold"},metaBox:{marginTop:12,paddingTop:6,borderTopWidth:1,borderColor:"#E4DCC8",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start"},metaLine:{fontSize:10,fontFamily:"Courier",color:"#4B5563"},totalsBox:{width:"40%",borderWidth:1,borderColor:"#E4DCC8",padding:8,backgroundColor:"#F1EADF"},totalsRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:3},totalsLabel:{fontSize:11},totalsValue:{fontSize:11,fontFamily:"Courier"},totalsTotalRow:{borderTopWidth:1,borderColor:"#D1D5DB",paddingTop:4,marginTop:4},signatureRow:{marginTop:56,alignItems:"flex-end"},signatureImage:{width:120,height:40,objectFit:"contain"},signatureLabel:{marginTop:4,fontSize:11,color:"#4B5563"},footer:{marginTop:12,paddingTop:6,borderTopWidth:1,borderColor:"#E5E7EB",fontSize:10,color:"#9CA3AF",textAlign:"center",fontFamily:"Courier"},tableHeaderText:{color:"#F9F5EC",fontFamily:"Times-Bold",fontSize:11},bottomRow:{marginTop:32,flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},bottomLeft:{width:"55%"}});function x(e){var t;let{data:l}=e,i=null!=(t=l.lineItems)?t:[];return(0,r.jsx)(s.yo,{children:(0,r.jsxs)(s.YW,{size:"A4",style:m.page,children:[(0,r.jsxs)(s.Ss,{style:m.headerRow,children:[(0,r.jsxs)(s.Ss,{style:m.headerLeft,children:[(0,r.jsx)(s.EY,{style:m.headerTitle,children:"Invoice"}),(0,r.jsxs)(s.Ss,{style:m.headerMetaRow,children:[(0,r.jsx)(s.EY,{style:m.headerMetaLabel,children:"Invoice No."}),(0,r.jsx)(s.EY,{style:m.headerMetaEmphasis,children:l.invoiceId})]}),(0,r.jsxs)(s.Ss,{style:m.headerMetaRow,children:[(0,r.jsx)(s.EY,{style:m.headerMetaLabel,children:l.dueDate?"Issued / Due":"Issued"}),(0,r.jsxs)(s.EY,{style:m.headerMetaEmphasis,children:[l.issueDate||"—",l.dueDate?" / ".concat(l.dueDate):""]})]})]}),(0,r.jsx)(s.Ss,{style:m.headerRight,children:l.sealUrl&&(0,r.jsx)(s._V,{src:l.sealUrl,style:m.seal})})]}),(0,r.jsxs)(s.Ss,{style:m.body,children:[(0,r.jsxs)(s.Ss,{style:m.sectionRow,children:[(0,r.jsxs)(s.Ss,{style:m.column,children:[(0,r.jsx)(s.EY,{style:m.sectionTitle,children:"Bill From"}),(0,r.jsx)(s.EY,{style:m.nameText,children:l.billFromName}),l.billFromCompany&&(0,r.jsx)(s.EY,{style:m.mutedLine,children:l.billFromCompany}),l.billFromEmail&&(0,r.jsx)(s.EY,{style:m.mutedLine,children:l.billFromEmail}),l.billFromWebsite&&(0,r.jsx)(s.EY,{style:m.mutedLine,children:l.billFromWebsite}),l.billFromAddress&&(0,r.jsx)(s.EY,{style:m.mutedLine,children:l.billFromAddress})]}),(0,r.jsxs)(s.Ss,{style:m.column,children:[(0,r.jsx)(s.EY,{style:m.sectionTitle,children:"Bill To"}),(0,r.jsx)(s.EY,{style:m.nameText,children:l.billToName}),l.billToCompany&&(0,r.jsx)(s.EY,{style:m.mutedLine,children:l.billToCompany}),l.billToEmail&&(0,r.jsx)(s.EY,{style:m.mutedLine,children:l.billToEmail}),l.billToWebsite&&(0,r.jsx)(s.EY,{style:m.mutedLine,children:l.billToWebsite}),l.billToAddress&&(0,r.jsx)(s.EY,{style:m.mutedLine,children:l.billToAddress})]})]}),(0,r.jsxs)(s.Ss,{children:[(0,r.jsx)(s.EY,{style:m.sectionTitle,children:"Line Items"}),(0,r.jsxs)(s.Ss,{style:m.table,children:[(0,r.jsxs)(s.Ss,{style:m.tableHeader,children:[(0,r.jsx)(s.Ss,{style:m.colDesc,children:(0,r.jsx)(s.EY,{style:m.tableHeaderText,children:"Description"})}),(0,r.jsx)(s.Ss,{style:m.colNumber,children:(0,r.jsx)(s.EY,{style:m.tableHeaderText,children:"Qty"})}),(0,r.jsx)(s.Ss,{style:m.colNumber,children:(0,r.jsxs)(s.EY,{style:m.tableHeaderText,children:["Rate (",l.currency,")"]})}),(0,r.jsx)(s.Ss,{style:m.colNumber,children:(0,r.jsx)(s.EY,{style:m.tableHeaderText,children:"Amount"})})]}),i.map((e,t)=>{var l,i,a;if(!((null==(l=e.description)?void 0:l.trim())||null!=e.quantity||null!=e.rate||null!=e.lineTotal))return null;let n=null!=(i=e.quantity)?i:0,o=null!=(a=e.rate)?a:0,d=null!=e.lineTotal?e.lineTotal:n*o;return(0,r.jsxs)(s.Ss,{style:{...m.tableRow,backgroundColor:t%2==0?"#F7F0E2":"#FBF5EA"},children:[(0,r.jsx)(s.Ss,{style:m.colDesc,children:(0,r.jsx)(s.EY,{children:e.description||"—"})}),(0,r.jsx)(s.Ss,{style:m.colNumber,children:(0,r.jsx)(s.EY,{style:m.numberCellText,children:n||""})}),(0,r.jsx)(s.Ss,{style:m.colNumber,children:(0,r.jsx)(s.EY,{style:m.numberCellText,children:o?o.toFixed(2):""})}),(0,r.jsx)(s.Ss,{style:m.colNumber,children:(0,r.jsx)(s.EY,{style:m.numberCellText,children:d?d.toFixed(2):""})})]},t)}),Array.from({length:Math.max(0,4-i.length)}).map((e,t)=>(0,r.jsxs)(s.Ss,{style:{...m.tableRow,backgroundColor:(i.length+t)%2==0?"#F7F0E2":"#FBF5EA"},children:[(0,r.jsx)(s.Ss,{style:m.colDesc,children:(0,r.jsx)(s.EY,{children:"\xa0"})}),(0,r.jsx)(s.Ss,{style:m.colNumber,children:(0,r.jsx)(s.EY,{style:m.numberCellText,children:"\xa0"})}),(0,r.jsx)(s.Ss,{style:m.colNumber,children:(0,r.jsx)(s.EY,{style:m.numberCellText,children:"\xa0"})}),(0,r.jsx)(s.Ss,{style:m.colNumber,children:(0,r.jsx)(s.EY,{style:m.numberCellText,children:"\xa0"})})]},"empty-".concat(t)))]})]}),(0,r.jsxs)(s.Ss,{style:m.notesAndTotalsRow,children:[(0,r.jsx)(s.Ss,{style:m.notesCol,children:l.notes&&(0,r.jsxs)(s.Ss,{children:[(0,r.jsx)(s.EY,{style:m.sectionTitle,children:"Notes"}),(0,r.jsx)(s.EY,{style:m.notesBody,children:l.notes})]})}),(0,r.jsxs)(s.Ss,{style:m.totalsBox,children:[(0,r.jsx)(s.EY,{style:m.sectionTitle,children:"Summary"}),(0,r.jsxs)(s.Ss,{style:m.totalsRow,children:[(0,r.jsx)(s.EY,{style:m.totalsLabel,children:"Subtotal"}),(0,r.jsxs)(s.EY,{style:m.totalsValue,children:[l.currency," ",l.subtotal.toFixed(2)]})]}),0!==l.taxAmount&&(0,r.jsxs)(s.Ss,{style:m.totalsRow,children:[(0,r.jsx)(s.EY,{style:m.totalsLabel,children:"Tax"}),(0,r.jsxs)(s.EY,{style:m.totalsValue,children:[l.currency," ",l.taxAmount.toFixed(2)]})]}),0!==l.discountValue&&(0,r.jsxs)(s.Ss,{style:m.totalsRow,children:[(0,r.jsx)(s.EY,{style:m.totalsLabel,children:"Discount"}),(0,r.jsxs)(s.EY,{style:m.totalsValue,children:["- ",l.currency," ",l.discountValue.toFixed(2)]})]}),(0,r.jsxs)(s.Ss,{style:[m.totalsRow,m.totalsTotalRow],children:[(0,r.jsx)(s.EY,{style:[m.totalsLabel,{fontWeight:600}],children:"Total"}),(0,r.jsxs)(s.EY,{style:[m.totalsValue,{fontWeight:600}],children:[l.currency," ",l.grandTotal.toFixed(2)]})]})]})]}),(0,r.jsxs)(s.Ss,{style:m.bottomRow,children:[(0,r.jsxs)(s.Ss,{style:m.bottomLeft,children:[(0,r.jsx)(s.EY,{style:m.sectionTitle,children:"Payment Details"}),(0,r.jsxs)(s.EY,{style:m.paymentLine,children:[(0,r.jsx)(s.EY,{style:m.paymentLabel,children:"Account Title: "}),"SALAAR KHAN"]}),(0,r.jsxs)(s.EY,{style:m.paymentLine,children:[(0,r.jsx)(s.EY,{style:m.paymentLabel,children:"Bank Name: "}),"Bank Alfalah"]}),(0,r.jsxs)(s.EY,{style:m.paymentLine,children:[(0,r.jsx)(s.EY,{style:m.paymentLabel,children:"IBAN: "}),"PK56ALFH0131001007955457"]}),(0,r.jsxs)(s.EY,{style:m.paymentLine,children:[(0,r.jsx)(s.EY,{style:m.paymentLabel,children:"SWIFT Code: "}),"ALFHPKKAXXX"]}),(0,r.jsx)(s.Ss,{style:m.metaBox,children:(0,r.jsxs)(s.Ss,{children:[(0,r.jsxs)(s.EY,{style:m.metaLine,children:["Invoice ID: ",l.invoiceId]}),(0,r.jsxs)(s.EY,{style:m.metaLine,children:["Billed To: ",l.billToName]}),(0,r.jsxs)(s.EY,{style:m.metaLine,children:["Prepared By: ",l.billFromName]})]})})]}),(0,r.jsxs)(s.Ss,{style:m.signatureRow,children:[(0,r.jsx)(s._V,{src:l.signatureUrl||"https://see.fontimg.com/api/rf5/e9j06/NTcwZDdiY2FmZmM5NGEyN2E2YmMwMzVlYWFlMWQ4OTQub3Rm/U2FsYWFyIEtoYW4/maellen.png?r=fs&h=65&w=1000&fg=000000&bg=FFFFFF&tb=1&s=65",style:m.signatureImage}),(0,r.jsx)(s.EY,{style:m.signatureLabel,children:"Authorised Signature"})]})]})]}),(0,r.jsx)(s.EY,{style:m.footer,children:(0,r.jsxs)(s.N_,{src:"https://salaarkhan-dev.github.io",style:{color:"#6B7280",textDecoration:"none"},children:["Generated via The Developer Times • Invoices • ",l.invoiceId]})})]})})}let h=a.Ikc({billFromName:a.YjP().trim().min(1,"Bill From name is required."),billToName:a.YjP().trim().min(1,"Bill To name is required."),billFromEmail:a.YjP().trim().min(1,"Your email is required.").email("Enter a valid email address."),billToEmail:a.YjP().trim().min(1,"Client email is required.").email("Enter a valid client email address."),issueDate:a.YjP().trim().min(1,"Issue date is required."),signatureName:a.YjP().trim().min(1,"Signature name is required.")});function p(e){if(null==e)return NaN;let t=e.replace(/[^0-9.,-]/g,"");if(!t)return NaN;let l=Number(t.replace(/,/g,""));return Number.isNaN(l)?NaN:l}function g(e){var t,l,r,i,a,s;let n=e.trim();if(!n)return"";let o=n.replace(/[^A-Za-z0-9\s]/g," ").split(/\s+/).filter(Boolean);return o.length?((null!=(i=null==(t=o[0])?void 0:t[0])?i:"")+(o.length>1?null!=(a=null==(l=o[1])?void 0:l[0])?a:"":null!=(s=null==(r=o[0])?void 0:r.slice(1,2))?s:"")).toUpperCase():""}function b(){let[e,t]=(0,i.useState)("Salaar Khan"),[l,a]=(0,i.useState)(""),[m,b]=(0,i.useState)("salaarkhan.dev@gmail.com"),[f,j]=(0,i.useState)("salaarkhan-dev.github.io"),[y,N]=(0,i.useState)("Pakistan"),[v,w]=(0,i.useState)("Herbert Digital Pty Ltd"),[T,E]=(0,i.useState)(""),[S,C]=(0,i.useState)("accounts@herbertdigital.com"),[F,D]=(0,i.useState)("herbertdigital.com"),[Y,k]=(0,i.useState)("Australia"),[I,L]=(0,i.useState)(""),[A,R]=(0,i.useState)(""),[B,M]=(0,i.useState)("AUD"),[z,q]=(0,i.useState)(""),[W,P]=(0,i.useState)([{id:"1",description:"",quantity:void 0,rate:void 0,lineTotalInput:void 0}]),[H,J]=(0,i.useState)(""),[U,V]=(0,i.useState)(""),[_,K]=(0,i.useState)(""),[O,G]=(0,i.useState)(""),[Q,$]=(0,i.useState)("Heartfelt thanks for choosing to work together."),[X,Z]=(0,i.useState)("Account Title: SALAAR KHAN\nBank Name: Bank Alfalah\nIBAN: PK56ALFH0131001007955457\nSWIFT Code: ALFHPKKAXXX"),[ee,et]=(0,i.useState)("Salaar Khan"),[el,er]=(0,i.useState)(!1),[ei,ea]=(0,i.useState)({}),es=(0,i.useMemo)(()=>{let t=g(e||""),l=g(T||v||""),r=function(e){if(!e)return"";let t=new Date(e);if(Number.isNaN(t.getTime()))return"";let l=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return"".concat(l).concat(r).concat(i)}(I);return t&&l&&r?"".concat(t,"-").concat(l,"-").concat(r):""},[e,T,v,I]),en=z||es,eo=(0,i.useMemo)(()=>W.reduce((e,t)=>{if(null!=t.lineTotalInput&&""!==t.lineTotalInput.trim()){let l=p(t.lineTotalInput);if(!Number.isNaN(l))return e+l}let l=p(t.quantity),r=p(t.rate);return Number.isNaN(l)||Number.isNaN(r)?e:e+l*r},0),[W]),ed=(0,i.useMemo)(()=>{let e=parseFloat(U);return!H&&(Number.isNaN(e)||0===e)||Number.isNaN(e)||0===e?0:eo*e/100},[eo,U,H]),ec=(0,i.useMemo)(()=>{let e=parseFloat(O);return!_&&(Number.isNaN(e)||0===e)||Number.isNaN(e)||0===e?0:e},[O,_]),eu=eo+ed-ec,em=(0,i.useMemo)(()=>{let e=ee.trim();if(e)try{let t=btoa(unescape(encodeURIComponent(e)));return"https://see.fontimg.com/api/rf5/e9j06/NTcwZDdiY2FmZmM5NGEyN2E2YmMwMzVlYWFlMWQ4OTQub3Rm/".concat(t,"/maellen.png?r=fs&h=65&w=1000&fg=000000&bg=FFFFFF&tb=1&s=65")}catch(e){return}},[ee]),ex=async()=>{if(!el){er(!0);try{let t=h.safeParse({billFromName:e,billToName:v,billFromEmail:m,billToEmail:S,issueDate:I,signatureName:ee});if(!t.success){let e=t.error.flatten().fieldErrors;ea(t=>{var l,r,i,a,s,n;return{...t,billFromName:null==(l=e.billFromName)?void 0:l[0],billToName:null==(r=e.billToName)?void 0:r[0],billFromEmail:null==(i=e.billFromEmail)?void 0:i[0],billToEmail:null==(a=e.billToEmail)?void 0:a[0],issueDate:null==(s=e.issueDate)?void 0:s[0],signatureName:null==(n=e.signatureName)?void 0:n[0]}});return}let i={};if(en&&""!==en.trim()||(i.invoiceId="Invoice ID is required (enter one or select an Issue Date)."),Object.keys(i).length>0)return void ea(e=>({...e,...i}));ea({});let a={invoiceId:en||"UNASSIGNED",issueDate:I,dueDate:A,currency:B,billFromName:e,billFromCompany:l,billFromEmail:m,billFromWebsite:f,billFromAddress:y,billToName:v,billToCompany:T,billToEmail:S,billToWebsite:F,billToAddress:Y,lineItems:W.map(e=>{let t,l=p(e.quantity),r=p(e.rate),i=null!=e.lineTotalInput&&""!==e.lineTotalInput.trim()?p(e.lineTotalInput):NaN;return Number.isNaN(i)?Number.isNaN(l)||Number.isNaN(r)||(t=l*r):t=i,{description:e.description,quantity:Number.isNaN(l)?void 0:l,rate:Number.isNaN(r)?void 0:r,lineTotal:t}}),subtotal:eo,taxAmount:ed,discountValue:ec,grandTotal:eu,notes:Q,remittanceDetails:X,sealUrl:"https://res.cloudinary.com/dnpxalm5i/image/upload/f_auto,q_auto,w_256/gh-pages/public/images/seal.png",signatureUrl:em},n=await (0,s.x8)((0,r.jsx)(x,{data:a})).toBlob(),o=URL.createObjectURL(n),d="".concat(en||"invoice",".pdf"),c=document.createElement("a");c.href=o,c.download=d,"download"in HTMLAnchorElement.prototype?(document.body.appendChild(c),c.click(),document.body.removeChild(c)):window.open(o,"_blank"),setTimeout(()=>{URL.revokeObjectURL(o)},1e4)}finally{er(!1)}}},eh=(e,t,l)=>{P(r=>r.map(r=>{if(r.id!==e)return r;if("quantity"===t||"rate"===t){let e=l.replace(/[^0-9.,]/g,"");return{...r,[t]:e,lineTotalInput:void 0}}if("lineTotalInput"===t){let e=l.replace(/[^0-9.,-]/g,"");return{...r,lineTotalInput:e}}return{...r,[t]:l}}))},ep=(e,t)=>{P(l=>l.map(l=>{if(l.id!==e)return l;let r=t.replace(/[^0-9.,-]/g,""),i=p(r);if(Number.isNaN(i))return{...l,rate:void 0,lineTotalInput:r};let a=p(l.quantity);if(!Number.isNaN(a)&&a>0){let e=Math.round(i/a*100)/100;return{...l,rate:e.toFixed(2),lineTotalInput:r}}let s=Math.round(100*i)/100;return{...l,rate:s.toFixed(2),lineTotalInput:r}}))},eg=e=>{P(t=>t.length<=1?t:t.filter(t=>t.id!==e))};return e.trim(),v.trim(),(0,r.jsx)("main",{className:"py-6",children:(0,r.jsxs)(n.Section,{id:"casefile-invoices",title:"Investigation Bureau • Internal Ledger",heading:"Casefile Invoices",tagline:"A confidential register of work rendered, retainers honoured, and mysteries resolved.",decorativeText:"LEDGER",headingSize:"small",className:"max-w-5xl mx-auto px-4 relative print:max-w-none print:px-0",children:[(0,r.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-2 md:gap-3 print:hidden",children:[(0,r.jsx)("div",{className:"text-[11px] font-mono text-muted-foreground",children:"Internal tool • Not linked in navigation"}),(0,r.jsxs)("div",{className:"w-full md:w-auto flex flex-col items-stretch md:flex-row md:items-center md:justify-end gap-2 md:gap-3",children:[es&&!z&&(0,r.jsxs)("div",{className:"text-[11px] font-mono text-muted-foreground/80 md:text-right",children:[(0,r.jsx)("span",{className:"opacity-80",children:"Suggested ID:"})," ",(0,r.jsx)("span",{className:"font-semibold tracking-wide",children:es})]}),(0,r.jsx)("div",{className:"flex justify-stretch md:justify-end",children:(0,r.jsx)(c.R,{className:"w-full md:w-auto",onClick:ex,disabled:el,"aria-busy":el,children:el?"Preparing PDF":"Export PDF"})})]})]}),(0,r.jsxs)("div",{className:"border border-foreground/30 bg-background/95 px-6 py-6 md:px-8 md:py-8 print:border-0 print:px-10 print:py-8",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6 border-b border-foreground/20 pb-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-[0]",children:[(0,r.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-1",children:"Bill From"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(o.J,{placeholder:"Your name (required)",value:e,onChange:e=>{t(e.target.value),ei.billFromName&&ea(e=>({...e,billFromName:void 0}))}}),ei.billFromName&&(0,r.jsx)("p",{className:"text-xs text-red-600 mt-1",children:ei.billFromName}),(0,r.jsx)(o.J,{placeholder:"Your company / title (optional)",value:l,onChange:e=>a(e.target.value)}),(0,r.jsx)(o.J,{placeholder:"Email (required)",value:m,onChange:e=>{b(e.target.value),ei.billFromEmail&&ea(e=>({...e,billFromEmail:void 0}))}}),ei.billFromEmail&&(0,r.jsx)("p",{className:"text-xs text-red-600 mt-1",children:ei.billFromEmail}),(0,r.jsx)(o.J,{placeholder:"Website (optional)",value:f,onChange:e=>j(e.target.value)}),(0,r.jsx)(d.$,{placeholder:"Address / City / Country (optional)",value:y,onChange:e=>N(e.target.value),className:"min-h-[70px]"})]})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-[0]",children:[(0,r.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-1",children:"Bill To"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(o.J,{placeholder:"Client name (required)",value:v,onChange:e=>{w(e.target.value),ei.billToName&&ea(e=>({...e,billToName:void 0}))}}),ei.billToName&&(0,r.jsx)("p",{className:"text-xs text-red-600 mt-1",children:ei.billToName}),(0,r.jsx)(o.J,{placeholder:"Company name (optional)",value:T,onChange:e=>E(e.target.value)}),(0,r.jsx)(o.J,{placeholder:"Email (required)",value:S,onChange:e=>{C(e.target.value),ei.billToEmail&&ea(e=>({...e,billToEmail:void 0}))}}),ei.billToEmail&&(0,r.jsx)("p",{className:"text-xs text-red-600 mt-1",children:ei.billToEmail}),(0,r.jsx)(o.J,{placeholder:"Website (optional)",value:F,onChange:e=>D(e.target.value)}),(0,r.jsx)(d.$,{placeholder:"Address / City / Country (optional)",value:Y,onChange:e=>k(e.target.value),className:"min-h-[70px]"})]})]}),(0,r.jsxs)("div",{className:"w-full md:w-64 text-left space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-1",children:"Invoice No."}),(0,r.jsx)(o.J,{placeholder:es||"Invoice ID",value:z,onChange:e=>q(e.target.value)}),ei.invoiceId&&(0,r.jsx)("p",{className:"text-xs text-red-600 mt-1",children:ei.invoiceId})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-2 text-[11px] md:text-[10px]",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"uppercase tracking-wide text-muted-foreground mb-1",children:"Issue Date"}),(0,r.jsx)(o.J,{type:"date",value:I,onChange:e=>{L(e.target.value),ei.issueDate&&ea(e=>({...e,issueDate:void 0}))}}),ei.issueDate&&(0,r.jsx)("p",{className:"text-xs text-red-600 mt-1",children:ei.issueDate})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"uppercase tracking-wide text-muted-foreground mb-1",children:"Due Date (optional)"}),(0,r.jsx)(o.J,{type:"date",value:A,onChange:e=>R(e.target.value)})]})]}),(0,r.jsxs)("div",{className:"text-[11px] md:text-[10px]",children:[(0,r.jsx)("div",{className:"uppercase tracking-wide text-muted-foreground mb-1",children:"Currency"}),(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("div",{className:"absolute -bottom-1 -right-1 w-full h-full border-r border-b border-foreground/20 group-hover:border-foreground/40 transition-all duration-300 -z-10"}),(0,r.jsxs)("select",{className:(0,u.cn)("block w-full bg-background/80 px-3 py-2 text-sm font-serif border border-foreground/30 focus:outline-none focus:ring-1 focus:ring-foreground/50 transition-all duration-200"),value:B,onChange:e=>M(e.target.value),children:[(0,r.jsx)("option",{value:"USD",children:"USD"}),(0,r.jsx)("option",{value:"EUR",children:"EUR"}),(0,r.jsx)("option",{value:"AUD",children:"AUD"}),(0,r.jsx)("option",{value:"PKR",children:"PKR"}),(0,r.jsx)("option",{value:"CAD",children:"CAD"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-2",children:"Scope of Investigation"}),(0,r.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm font-serif border-t border-b border-foreground/20",children:[(0,r.jsx)("thead",{className:"bg-foreground text-background",children:(0,r.jsxs)("tr",{className:"text-left",children:[(0,r.jsx)("th",{className:"px-3 py-2 w-1/2 font-semibold",children:"Description"}),(0,r.jsx)("th",{className:"px-3 py-2 w-24 text-right font-semibold",children:"Qty / Hours / Days"}),(0,r.jsxs)("th",{className:"px-3 py-2 w-24 text-right font-semibold",children:["Rate (",B,")"]}),(0,r.jsx)("th",{className:"px-3 py-2 w-24 text-right font-semibold",children:"Line Total"}),(0,r.jsx)("th",{className:"px-3 py-2 w-10 text-right print:hidden"})]})}),(0,r.jsx)("tbody",{children:W.map(e=>{var t,l;let i=p(e.quantity),a=p(e.rate),s=Number.isNaN(i)||Number.isNaN(a)?Number.isNaN(a)?0:a:i*a,n=!!(null==(t=e.description)?void 0:t.trim())||null!=e.quantity&&""!==e.quantity.trim()||null!=e.rate&&""!==e.rate.trim();return(0,r.jsxs)("tr",{className:"border-t border-foreground/10 align-top",children:[(0,r.jsx)("td",{className:"px-3 py-2",children:(0,r.jsx)(d.$,{placeholder:"Description of work (optional)",value:null!=(l=e.description)?l:"",onChange:t=>eh(e.id,"description",t.target.value),className:"min-h-[60px]"})}),(0,r.jsx)("td",{className:"px-3 py-2 align-top",children:(0,r.jsx)(o.J,{type:"text",inputMode:"decimal",placeholder:"0",value:null!=e.quantity?e.quantity:"",onChange:t=>eh(e.id,"quantity",t.target.value),className:"text-right"})}),(0,r.jsx)("td",{className:"px-3 py-2 align-top",children:(0,r.jsx)(o.J,{type:"text",inputMode:"decimal",placeholder:"0.00",value:null!=e.rate?e.rate:"",onChange:t=>eh(e.id,"rate",t.target.value),className:"text-right"})}),(0,r.jsx)("td",{className:"px-3 py-2 align-top text-right",children:(0,r.jsx)(o.J,{type:"text",inputMode:"decimal",placeholder:"0.00",value:null!=e.lineTotalInput?e.lineTotalInput:n&&s>0?s.toFixed(2):"",onChange:t=>ep(e.id,t.target.value),className:"text-right","aria-label":"Line total"})}),(0,r.jsx)("td",{className:"px-3 py-2 align-top text-right print:hidden",children:(0,r.jsx)("button",{type:"button",className:"text-[11px] uppercase tracking-[0.2em] text-muted-foreground hover:text-foreground",onClick:()=>eg(e.id),children:W.length>1?"Remove":""})})]},e.id)})})]})}),(0,r.jsx)("div",{className:"md:hidden space-y-3",children:W.map(e=>{var t,l;let i=p(e.quantity),a=p(e.rate),s=Number.isNaN(i)||Number.isNaN(a)?Number.isNaN(a)?0:a:i*a,n=!!(null==(t=e.description)?void 0:t.trim())||null!=e.quantity&&""!==e.quantity.trim()||null!=e.rate&&""!==e.rate.trim();return(0,r.jsxs)("div",{className:"border border-foreground/20 bg-background/80 p-3 space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[11px] uppercase tracking-[0.2em] text-muted-foreground mb-1",children:"Description"}),(0,r.jsx)(d.$,{placeholder:"Description of work (optional)",value:null!=(l=e.description)?l:"",onChange:t=>eh(e.id,"description",t.target.value),className:"min-h-[70px]"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[11px] text-muted-foreground mb-1",children:"Qty / Hours / Days"}),(0,r.jsx)(o.J,{type:"text",inputMode:"decimal",placeholder:"0",value:null!=e.quantity?e.quantity:"",onChange:t=>eh(e.id,"quantity",t.target.value),className:"text-right"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-[11px] text-muted-foreground mb-1",children:["Rate (",B,")"]}),(0,r.jsx)(o.J,{type:"text",inputMode:"decimal",placeholder:"0.00",value:null!=e.rate?e.rate:"",onChange:t=>eh(e.id,"rate",t.target.value),className:"text-right"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm gap-2",children:[(0,r.jsx)("span",{className:"text-[11px] text-muted-foreground",children:"Line Total"}),(0,r.jsx)(o.J,{type:"text",inputMode:"decimal",placeholder:"0.00",value:null!=e.lineTotalInput?e.lineTotalInput:n&&s>0?s.toFixed(2):"",onChange:t=>ep(e.id,t.target.value),className:"w-28 text-right","aria-label":"Line total"})]}),(0,r.jsx)("div",{className:"flex justify-end pt-1",children:(0,r.jsx)("button",{type:"button",className:"text-[11px] uppercase tracking-[0.2em] text-muted-foreground hover:text-foreground",onClick:()=>eg(e.id),children:W.length>1?"Remove":""})})]},e.id)})}),(0,r.jsxs)("div",{className:"mt-2 flex justify-between items-center print:hidden",children:[(0,r.jsx)("div",{className:"text-[11px] text-muted-foreground italic",children:"Add as many lines as needed. Empty lines will be visually minimal in print."}),(0,r.jsx)(c.R,{variant:"ghost",onClick:()=>{P(e=>[...e,{id:String(Date.now()),description:"",quantity:void 0,rate:void 0,lineTotalInput:void 0}])},children:"Add Line"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 mt-4",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-[0]",children:[(0,r.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-2",children:"Notes to Client"}),(0,r.jsx)(d.$,{value:Q,onChange:e=>$(e.target.value),placeholder:"Any closing remarks, context on the investigation, or next steps. Optional.",className:"min-h-[120px]"})]}),(0,r.jsxs)("div",{className:"w-full md:w-72 border border-foreground/30 p-4 bg-muted/20 md:self-start",children:[(0,r.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-2",children:"Summary"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm font-serif",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Subtotal"}),(0,r.jsxs)("span",{children:[B," ",eo.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("div",{className:"text-[11px] text-muted-foreground mb-1",children:"Tax (optional)"}),(0,r.jsxs)("div",{className:"grid grid-cols-[1fr_auto] gap-2 items-center",children:[(0,r.jsx)(o.J,{placeholder:"Label (e.g. VAT)",value:H,onChange:e=>J(e.target.value)}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(o.J,{type:"number",inputMode:"decimal",placeholder:"%",value:U,onChange:e=>V(e.target.value),className:"w-16 text-right","aria-label":"Tax percentage"}),(0,r.jsx)("span",{className:"text-[11px] text-muted-foreground",children:"%"})]})]}),0!==ed&&(0,r.jsxs)("div",{className:"mt-1 flex justify-between text-xs text-muted-foreground",children:[(0,r.jsx)("span",{children:H||"Tax"}),(0,r.jsxs)("span",{children:[B," ",ed.toFixed(2)]})]})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("div",{className:"text-[11px] text-muted-foreground mb-1",children:"Discount (optional)"}),(0,r.jsxs)("div",{className:"grid grid-cols-[1fr_auto] gap-2 items-center",children:[(0,r.jsx)(o.J,{placeholder:"Label (e.g. Courtesy)",value:_,onChange:e=>K(e.target.value)}),(0,r.jsx)(o.J,{type:"number",inputMode:"decimal",placeholder:"0.00",value:O,onChange:e=>G(e.target.value),className:"w-24 text-right","aria-label":"Discount amount"})]}),0!==ec&&(0,r.jsxs)("div",{className:"mt-1 flex justify-between text-xs text-muted-foreground",children:[(0,r.jsx)("span",{children:_||"Discount"}),(0,r.jsxs)("span",{children:["- ",B," ",ec.toFixed(2)]})]})]}),(0,r.jsxs)("div",{className:"border-t border-foreground/40 mt-3 pt-2 font-semibold flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsxs)("span",{children:[B," ",eu.toFixed(2)]})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-6 border-t border-foreground/20 pt-3",children:[(0,r.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-2",children:"Signature"}),(0,r.jsx)(o.J,{value:ee,onChange:e=>{et(e.target.value),ei.signatureName&&ea(e=>({...e,signatureName:void 0}))},placeholder:"Name to render in signature image"}),ei.signatureName&&(0,r.jsx)("p",{className:"text-xs text-red-600 mt-1",children:ei.signatureName})]}),(X.trim().length,(0,r.jsxs)("div",{className:"mt-6 border-t border-foreground/20 pt-3",children:[(0,r.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-2",children:"Remittance Details"}),(0,r.jsx)(d.$,{value:X,onChange:e=>Z(e.target.value),placeholder:"Bank, Stripe, Wise, or other payment instructions. Optional, but recommended.",className:"min-h-[100px]"})]})),(0,r.jsx)("div",{className:"mt-6 text-[10px] text-muted-foreground font-mono text-center",children:"Internal use • Casefile Invoices • Generated via The Developer Times desk apparatus"})]})]})})}},6341:(e,t,l)=>{"use strict";l.d(t,{$:()=>a});var r=l(5155),i=l(3999);let a=(0,l(2115).forwardRef)((e,t)=>{let{className:l,...a}=e;return(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("div",{className:"absolute -bottom-1 -right-1 w-full h-full border-r border-b border-foreground/20 group-hover:border-foreground/40 transition-all duration-300 -z-10"}),(0,r.jsx)("textarea",{className:(0,i.cn)("block w-full bg-background/80 px-3 py-2 text-sm font-serif min-h-[100px]","border border-foreground/30 focus:outline-none focus:ring-1 focus:ring-foreground/50","transition-all duration-200 placeholder:text-foreground/50 resize-none",l),ref:t,...a})]})});a.displayName="VintageTextarea"},7597:(e,t,l)=>{"use strict";l.d(t,{TorchProvider:()=>o,i:()=>n});var r=l(5155),i=l(2115),a=l(1362);let s=(0,i.createContext)(void 0),n=()=>{let e=(0,i.useContext)(s);if(!e)throw Error("useTorch must be used within a TorchProvider");return e},o=e=>{let{children:t}=e,[l,n]=(0,i.useState)(!1),[o,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),{theme:m}=(0,a.D)();(0,i.useEffect)(()=>{u(!0);let e=()=>{let e="ontouchstart"in window||navigator.maxTouchPoints>0,t=window.screen.width;window.screen.height,d(!e||t>=1024)};e(),window.addEventListener("resize",e);let t=localStorage.getItem("torch-enabled");return null!==t&&n("true"===t),()=>window.removeEventListener("resize",e)},[]),(0,i.useEffect)(()=>{c&&"dark"!==m&&l&&x(!1)},[m,c]);let x=e=>{n(e),c&&localStorage.setItem("torch-enabled",e.toString())};return(0,r.jsx)(s.Provider,{value:{torchEnabled:l,setTorchEnabled:x,isDesktop:o},children:t})}},9344:(e,t,l)=>{Promise.resolve().then(l.bind(l,4476))},9391:(e,t,l)=>{"use strict";l.d(t,{R:()=>s});var r=l(5155),i=l(3999),a=l(1154);function s(e){let{children:t,className:l,onClick:s,type:n="button",variant:o="default",isLoading:d=!1,disabled:c=!1}=e,u=d?"cursor-wait":"";return(0,r.jsx)("button",{type:n,onClick:s,disabled:c||d,className:(0,i.cn)("inline-flex items-center justify-center px-6 py-3 font-serif text-sm tracking-wider uppercase transition-all duration-200 relative",{default:"bg-foreground text-background hover:bg-foreground/90",outline:"border border-foreground/30 bg-background/90 hover:bg-foreground/5",ghost:"hover:bg-foreground/5"}[o],c||d?"opacity-50 cursor-not-allowed":"cursor-pointer",u,"group",l),children:(0,r.jsxs)("span",{className:"inline-flex items-center gap-2",children:[d&&(0,r.jsx)(a.A,{className:"h-4 w-4 animate-spin"}),t]})})}}},e=>{e.O(0,[247,788,746,792,829,779,174,441,964,358],()=>e(e.s=9344)),_N_E=e.O()}]);