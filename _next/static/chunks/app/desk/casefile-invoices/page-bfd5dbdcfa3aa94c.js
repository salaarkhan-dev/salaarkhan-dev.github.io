(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{477:()=>{},833:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var l=r(5155),n=r(2115),a=r(7645);function s(e){let{children:t,action:r="highlight",color:s="#ffd1dc",strokeWidth:i=1.5,animationDuration:o=600,iterations:d=2,padding:c=2,multiline:u=!0}=e,m=(0,n.useRef)(null),x=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=m.current;if(e){let t=(0,a.f)(e,{type:r,color:s,strokeWidth:i,animationDuration:o,iterations:d,padding:c,multiline:u});return x.current=t,t.show(),()=>{try{var e;null==(e=x.current)||e.remove()}catch(e){}finally{x.current=null}}}},[r,s,i,o,d,c,u]),(0,l.jsx)("span",{ref:m,className:"relative inline-block bg-transparent",children:t})}},1609:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var l=r(5155),n=r(3999);let a=(0,r(2115).forwardRef)((e,t)=>{let{className:r,type:a,...s}=e;return(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("div",{className:"absolute -bottom-1 -right-1 w-full h-full border-r border-b border-foreground/20 group-hover:border-foreground/40 transition-all duration-300 -z-10"}),(0,l.jsx)("input",{type:a,className:(0,n.cn)("block w-full bg-background/80 px-3 py-2 text-sm font-serif","border border-foreground/30 focus:outline-none focus:ring-1 focus:ring-foreground/50","transition-all duration-200 placeholder:text-foreground/50",r),ref:t,...s})]})});a.displayName="VintageInput"},3781:(e,t,r)=>{"use strict";r.d(t,{Section:()=>o});var l=r(5155),n=r(3999),a=r(2115),s=r(833),i=r(7597);function o(e){let{id:t,title:r,heading:o,tagline:d,decorativeText:c,children:u,className:m,decorativeTextClassName:x,headingSize:h="small",fullWidth:p=!1}=e,{torchEnabled:g}=(0,i.i)(),[f,b]=(0,a.useState)(!1);return(0,a.useEffect)(()=>b(!0),[]),(0,l.jsxs)("section",{id:t,className:(0,n.cn)("py-12 relative mx-auto ",p?"":" max-w-5xl px-4 sm:px-6",m),children:[(0,l.jsxs)("div",{className:(0,n.cn)("text-center mb-12 border-b-1 border-foreground/20 pb-6",p&&"max-w-3xl mx-auto px-4 sm:px-6 relative"),children:[(0,l.jsx)("div",{className:"text-xs uppercase tracking-widest text-muted-foreground mb-2",children:r}),"large"===h?(0,l.jsx)("h2",{className:"text-3xl md:text-5xl font-bold font-serif text-foreground",children:o}):(0,l.jsx)("h3",{className:"text-2xl md:text-3xl font-bold font-serif text-foreground",children:o}),(0,l.jsxs)("div",{className:"text-xs text-muted-foreground mt-2 italic font-serif",children:["“",d,"“"]}),p&&(0,l.jsx)("div",{className:(0,n.cn)("uppercase absolute -top-10 -right-2 text-[86px] xs:text-[100px] sm:text-[150px] md:text-[200px] leading-none font-bold font-serif text-foreground/10 md:text-foreground/5 -z-10 select-none pointer-events-none",x),children:f&&g?(0,l.jsx)(s.M,{action:"circle",color:"#FF9800",strokeWidth:1.5,animationDuration:600,iterations:2,padding:2,children:(0,l.jsx)("span",{children:c})}):(0,l.jsx)("span",{children:c})})]}),u,!p&&(0,l.jsx)("div",{className:(0,n.cn)("uppercase absolute top-10 sm:top-0 right-0 text-[86px] xs:text-[100px] sm:text-[150px] md:text-[200px] leading-none font-bold font-serif text-foreground/10 md:text-foreground/5 -z-10 select-none pointer-events-none",x),children:f&&g?(0,l.jsx)(s.M,{action:"circle",color:"#FF9800",strokeWidth:1.5,animationDuration:600,iterations:2,padding:2,children:(0,l.jsx)("span",{children:c})}):(0,l.jsx)("span",{children:c})})]})}},3999:(e,t,r)=>{"use strict";r.d(t,{D:()=>i,cn:()=>s,l:()=>o});var l=r(2596),n=r(9688),a=r(9641).Buffer;function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,l.$)(t))}let i=e=>window.atob?window.atob(e):a.from(e,"base64").toString("utf-8");function o(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r="0123456789",l="";for(let n=0;n<5;n++)n%2==0?l+=t.charAt((e.charCodeAt(n%e.length)+n)%t.length):l+=r.charAt((e.charCodeAt(n%e.length)+n)%r.length);return"REF-".concat(l)}},4476:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var l=r(5155),n=r(2115),a=r(1617),s=r(3781),i=r(1609),o=r(6341),d=r(9391),c=r(3999);let u=a.vv.create({page:{paddingTop:28,paddingBottom:28,paddingHorizontal:40,fontSize:12,fontFamily:"Times-Roman",backgroundColor:"#f4eee0",color:"#111827",flexDirection:"column"},body:{flexGrow:1},headerRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:16,borderBottomWidth:1,borderColor:"#E5E7EB",paddingBottom:8},headerLeft:{flexGrow:1,paddingRight:12},headerTitle:{fontSize:20,letterSpacing:1.5,textTransform:"uppercase",marginTop:2,fontFamily:"Times-Bold"},headerMeta:{marginTop:4,color:"#111827",fontSize:11},headerMetaRow:{marginTop:6},headerMetaLabel:{fontSize:8,letterSpacing:1.5,textTransform:"uppercase",color:"#6B7280"},headerMetaLine:{fontSize:11,fontFamily:"Courier",color:"#111827"},headerMetaEmphasis:{fontSize:11,fontFamily:"Courier",color:"#111827"},headerRight:{alignItems:"flex-end"},seal:{width:80,height:80,marginBottom:6},smallLabel:{fontSize:10,letterSpacing:1.5,textTransform:"uppercase",color:"#6B7280"},mono:{fontFamily:"Courier"},sectionRow:{flexDirection:"row",justifyContent:"space-between",marginTop:10,marginBottom:14},column:{width:"48%",paddingVertical:4,paddingHorizontal:0},sectionTitle:{fontSize:9,letterSpacing:2,textTransform:"uppercase",color:"#4B5563",marginBottom:4,fontFamily:"Courier"},nameText:{fontSize:13,fontFamily:"Times-Bold"},mutedLine:{fontSize:11,color:"#4B5563",marginTop:1},table:{borderWidth:1,borderColor:"#E4DCC8",marginBottom:14},tableHeader:{flexDirection:"row",backgroundColor:"#111827",borderBottomWidth:1,borderColor:"#E4DCC8",paddingVertical:4},tableRow:{flexDirection:"row",paddingVertical:4,borderTopWidth:.5,borderColor:"#E4DCC8",minHeight:16},colDesc:{flex:2,paddingHorizontal:6},colNumber:{flex:1,paddingHorizontal:6,textAlign:"right"},numberCellText:{fontFamily:"Courier",fontSize:11},notesAndTotalsRow:{flexDirection:"row",justifyContent:"space-between",marginTop:8},notesCol:{width:"55%",paddingRight:10},notesBody:{fontSize:11,lineHeight:1.3,color:"#111827"},paymentLine:{fontSize:11,fontFamily:"Courier",color:"#111827"},paymentLabel:{fontSize:11,fontFamily:"Courier",fontWeight:"bold"},metaBox:{marginTop:12,paddingTop:6,borderTopWidth:1,borderColor:"#E4DCC8",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start"},metaLine:{fontSize:10,fontFamily:"Courier",color:"#4B5563"},totalsBox:{width:"40%",borderWidth:1,borderColor:"#E4DCC8",padding:8,backgroundColor:"#F1EADF"},totalsRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:3},totalsLabel:{fontSize:11},totalsValue:{fontSize:11,fontFamily:"Courier"},totalsTotalRow:{borderTopWidth:1,borderColor:"#D1D5DB",paddingTop:4,marginTop:4},signatureRow:{marginTop:56,alignItems:"flex-end"},signatureImage:{width:120,height:40,objectFit:"contain"},signatureLabel:{marginTop:4,fontSize:11,color:"#4B5563"},footer:{marginTop:12,paddingTop:6,borderTopWidth:1,borderColor:"#E5E7EB",fontSize:10,color:"#9CA3AF",textAlign:"center",fontFamily:"Courier"},tableHeaderText:{color:"#F9F5EC",fontFamily:"Times-Bold",fontSize:11},bottomRow:{marginTop:32,flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},bottomLeft:{width:"55%"}});function m(e){var t;let{data:r}=e,n=null!=(t=r.lineItems)?t:[];return(0,l.jsx)(a.yo,{children:(0,l.jsxs)(a.YW,{size:"A4",style:u.page,children:[(0,l.jsxs)(a.Ss,{style:u.headerRow,children:[(0,l.jsxs)(a.Ss,{style:u.headerLeft,children:[(0,l.jsx)(a.EY,{style:u.headerTitle,children:"Invoice"}),(0,l.jsxs)(a.Ss,{style:u.headerMetaRow,children:[(0,l.jsx)(a.EY,{style:u.headerMetaLabel,children:"Invoice No."}),(0,l.jsx)(a.EY,{style:u.headerMetaEmphasis,children:r.invoiceId})]}),(0,l.jsxs)(a.Ss,{style:u.headerMetaRow,children:[(0,l.jsx)(a.EY,{style:u.headerMetaLabel,children:r.dueDate?"Issued / Due":"Issued"}),(0,l.jsxs)(a.EY,{style:u.headerMetaEmphasis,children:[r.issueDate||"—",r.dueDate?" / ".concat(r.dueDate):""]})]})]}),(0,l.jsx)(a.Ss,{style:u.headerRight,children:r.sealUrl&&(0,l.jsx)(a._V,{src:r.sealUrl,style:u.seal})})]}),(0,l.jsxs)(a.Ss,{style:u.body,children:[(0,l.jsxs)(a.Ss,{style:u.sectionRow,children:[(0,l.jsxs)(a.Ss,{style:u.column,children:[(0,l.jsx)(a.EY,{style:u.sectionTitle,children:"Bill From"}),(0,l.jsx)(a.EY,{style:u.nameText,children:r.billFromName}),r.billFromCompany&&(0,l.jsx)(a.EY,{style:u.mutedLine,children:r.billFromCompany}),r.billFromEmail&&(0,l.jsx)(a.EY,{style:u.mutedLine,children:r.billFromEmail}),r.billFromWebsite&&(0,l.jsx)(a.EY,{style:u.mutedLine,children:r.billFromWebsite}),r.billFromAddress&&(0,l.jsx)(a.EY,{style:u.mutedLine,children:r.billFromAddress})]}),(0,l.jsxs)(a.Ss,{style:u.column,children:[(0,l.jsx)(a.EY,{style:u.sectionTitle,children:"Bill To"}),(0,l.jsx)(a.EY,{style:u.nameText,children:r.billToName}),r.billToCompany&&(0,l.jsx)(a.EY,{style:u.mutedLine,children:r.billToCompany}),r.billToEmail&&(0,l.jsx)(a.EY,{style:u.mutedLine,children:r.billToEmail}),r.billToWebsite&&(0,l.jsx)(a.EY,{style:u.mutedLine,children:r.billToWebsite}),r.billToAddress&&(0,l.jsx)(a.EY,{style:u.mutedLine,children:r.billToAddress})]})]}),(0,l.jsxs)(a.Ss,{children:[(0,l.jsx)(a.EY,{style:u.sectionTitle,children:"Line Items"}),(0,l.jsxs)(a.Ss,{style:u.table,children:[(0,l.jsxs)(a.Ss,{style:u.tableHeader,children:[(0,l.jsx)(a.Ss,{style:u.colDesc,children:(0,l.jsx)(a.EY,{style:u.tableHeaderText,children:"Description"})}),(0,l.jsx)(a.Ss,{style:u.colNumber,children:(0,l.jsx)(a.EY,{style:u.tableHeaderText,children:"Qty"})}),(0,l.jsx)(a.Ss,{style:u.colNumber,children:(0,l.jsxs)(a.EY,{style:u.tableHeaderText,children:["Rate (",r.currency,")"]})}),(0,l.jsx)(a.Ss,{style:u.colNumber,children:(0,l.jsx)(a.EY,{style:u.tableHeaderText,children:"Amount"})})]}),n.map((e,t)=>{var r,n,s;if(!((null==(r=e.description)?void 0:r.trim())||null!=e.quantity||null!=e.rate||null!=e.lineTotal))return null;let i=null!=(n=e.quantity)?n:0,o=null!=(s=e.rate)?s:0,d=null!=e.lineTotal?e.lineTotal:i*o;return(0,l.jsxs)(a.Ss,{style:{...u.tableRow,backgroundColor:t%2==0?"#F7F0E2":"#FBF5EA"},children:[(0,l.jsx)(a.Ss,{style:u.colDesc,children:(0,l.jsx)(a.EY,{children:e.description||"—"})}),(0,l.jsx)(a.Ss,{style:u.colNumber,children:(0,l.jsx)(a.EY,{style:u.numberCellText,children:i||""})}),(0,l.jsx)(a.Ss,{style:u.colNumber,children:(0,l.jsx)(a.EY,{style:u.numberCellText,children:o?o.toFixed(2):""})}),(0,l.jsx)(a.Ss,{style:u.colNumber,children:(0,l.jsx)(a.EY,{style:u.numberCellText,children:d?d.toFixed(2):""})})]},t)}),Array.from({length:Math.max(0,4-n.length)}).map((e,t)=>(0,l.jsxs)(a.Ss,{style:{...u.tableRow,backgroundColor:(n.length+t)%2==0?"#F7F0E2":"#FBF5EA"},children:[(0,l.jsx)(a.Ss,{style:u.colDesc,children:(0,l.jsx)(a.EY,{children:"\xa0"})}),(0,l.jsx)(a.Ss,{style:u.colNumber,children:(0,l.jsx)(a.EY,{style:u.numberCellText,children:"\xa0"})}),(0,l.jsx)(a.Ss,{style:u.colNumber,children:(0,l.jsx)(a.EY,{style:u.numberCellText,children:"\xa0"})}),(0,l.jsx)(a.Ss,{style:u.colNumber,children:(0,l.jsx)(a.EY,{style:u.numberCellText,children:"\xa0"})})]},"empty-".concat(t)))]})]}),(0,l.jsxs)(a.Ss,{style:u.notesAndTotalsRow,children:[(0,l.jsx)(a.Ss,{style:u.notesCol,children:r.notes&&(0,l.jsxs)(a.Ss,{children:[(0,l.jsx)(a.EY,{style:u.sectionTitle,children:"Notes"}),(0,l.jsx)(a.EY,{style:u.notesBody,children:r.notes})]})}),(0,l.jsxs)(a.Ss,{style:u.totalsBox,children:[(0,l.jsx)(a.EY,{style:u.sectionTitle,children:"Summary"}),(0,l.jsxs)(a.Ss,{style:u.totalsRow,children:[(0,l.jsx)(a.EY,{style:u.totalsLabel,children:"Subtotal"}),(0,l.jsxs)(a.EY,{style:u.totalsValue,children:[r.currency," ",r.subtotal.toFixed(2)]})]}),0!==r.taxAmount&&(0,l.jsxs)(a.Ss,{style:u.totalsRow,children:[(0,l.jsx)(a.EY,{style:u.totalsLabel,children:"Tax"}),(0,l.jsxs)(a.EY,{style:u.totalsValue,children:[r.currency," ",r.taxAmount.toFixed(2)]})]}),0!==r.discountValue&&(0,l.jsxs)(a.Ss,{style:u.totalsRow,children:[(0,l.jsx)(a.EY,{style:u.totalsLabel,children:"Discount"}),(0,l.jsxs)(a.EY,{style:u.totalsValue,children:["- ",r.currency," ",r.discountValue.toFixed(2)]})]}),(0,l.jsxs)(a.Ss,{style:[u.totalsRow,u.totalsTotalRow],children:[(0,l.jsx)(a.EY,{style:[u.totalsLabel,{fontWeight:600}],children:"Total"}),(0,l.jsxs)(a.EY,{style:[u.totalsValue,{fontWeight:600}],children:[r.currency," ",r.grandTotal.toFixed(2)]})]})]})]}),(0,l.jsxs)(a.Ss,{style:u.bottomRow,children:[(0,l.jsxs)(a.Ss,{style:u.bottomLeft,children:[(0,l.jsx)(a.EY,{style:u.sectionTitle,children:"Payment Details"}),(0,l.jsxs)(a.EY,{style:u.paymentLine,children:[(0,l.jsx)(a.EY,{style:u.paymentLabel,children:"Account Title: "}),"SALAAR KHAN"]}),(0,l.jsxs)(a.EY,{style:u.paymentLine,children:[(0,l.jsx)(a.EY,{style:u.paymentLabel,children:"Bank Name: "}),"Bank Alfalah"]}),(0,l.jsxs)(a.EY,{style:u.paymentLine,children:[(0,l.jsx)(a.EY,{style:u.paymentLabel,children:"IBAN: "}),"PK56ALFH0131001007955457"]}),(0,l.jsxs)(a.EY,{style:u.paymentLine,children:[(0,l.jsx)(a.EY,{style:u.paymentLabel,children:"SWIFT Code: "}),"ALFHPKKAXXX"]}),(0,l.jsx)(a.Ss,{style:u.metaBox,children:(0,l.jsxs)(a.Ss,{children:[(0,l.jsxs)(a.EY,{style:u.metaLine,children:["Invoice ID: ",r.invoiceId]}),(0,l.jsxs)(a.EY,{style:u.metaLine,children:["Billed To: ",r.billToName]}),(0,l.jsxs)(a.EY,{style:u.metaLine,children:["Prepared By: ",r.billFromName]})]})})]}),(0,l.jsxs)(a.Ss,{style:u.signatureRow,children:[(0,l.jsx)(a._V,{src:r.signatureUrl||"https://see.fontimg.com/api/rf5/e9j06/NTcwZDdiY2FmZmM5NGEyN2E2YmMwMzVlYWFlMWQ4OTQub3Rm/U2FsYWFyIEtoYW4/maellen.png?r=fs&h=65&w=1000&fg=000000&bg=FFFFFF&tb=1&s=65",style:u.signatureImage}),(0,l.jsx)(a.EY,{style:u.signatureLabel,children:"Authorised Signature"})]})]})]}),(0,l.jsx)(a.EY,{style:u.footer,children:(0,l.jsxs)(a.N_,{src:"https://salaarkhan-dev.github.io",style:{color:"#6B7280",textDecoration:"none"},children:["Generated via The Developer Times • Invoices • ",r.invoiceId]})})]})})}function x(e){if(null==e)return NaN;let t=e.replace(/[^0-9.,-]/g,"");if(!t)return NaN;let r=Number(t.replace(/,/g,""));return Number.isNaN(r)?NaN:r}function h(e){var t,r,l,n,a,s;let i=e.trim();if(!i)return"";let o=i.replace(/[^A-Za-z0-9\s]/g," ").split(/\s+/).filter(Boolean);return o.length?((null!=(n=null==(t=o[0])?void 0:t[0])?n:"")+(o.length>1?null!=(a=null==(r=o[1])?void 0:r[0])?a:"":null!=(s=null==(l=o[0])?void 0:l.slice(1,2))?s:"")).toUpperCase():""}function p(){let[e,t]=(0,n.useState)("Salaar Khan"),[r,u]=(0,n.useState)(""),[p,g]=(0,n.useState)("salaarkhan.dev@gmail.com"),[f,b]=(0,n.useState)("salaarkhan-dev.github.io"),[j,y]=(0,n.useState)("Pakistan"),[v,N]=(0,n.useState)("Herbert Digital Pty Ltd"),[w,T]=(0,n.useState)(""),[S,C]=(0,n.useState)("accounts@herbertdigital.com"),[E,F]=(0,n.useState)("herbertdigital.com"),[D,Y]=(0,n.useState)("Australia"),[k,L]=(0,n.useState)(""),[A,I]=(0,n.useState)(""),[R,B]=(0,n.useState)("AUD"),[M,z]=(0,n.useState)(""),[W,q]=(0,n.useState)([{id:"1",description:"",quantity:void 0,rate:void 0,lineTotalInput:void 0}]),[H,J]=(0,n.useState)(""),[P,U]=(0,n.useState)(""),[V,_]=(0,n.useState)(""),[K,G]=(0,n.useState)(""),[O,Q]=(0,n.useState)("Heartfelt thanks for choosing to work together."),[$,X]=(0,n.useState)("Account Title: SALAAR KHAN\nBank Name: Bank Alfalah\nIBAN: PK56ALFH0131001007955457\nSWIFT Code: ALFHPKKAXXX"),[Z,ee]=(0,n.useState)("Salaar Khan"),[et,er]=(0,n.useState)(!1),el=(0,n.useMemo)(()=>{let t=h(e||""),r=h(w||v||""),l=function(e){if(!e)return"";let t=new Date(e);if(Number.isNaN(t.getTime()))return"";let r=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return"".concat(r).concat(l).concat(n)}(k);return t&&r&&l?"".concat(t,"-").concat(r,"-").concat(l):""},[e,w,v,k]),en=M||el,ea=(0,n.useMemo)(()=>W.reduce((e,t)=>{if(null!=t.lineTotalInput&&""!==t.lineTotalInput.trim()){let r=x(t.lineTotalInput);if(!Number.isNaN(r))return e+r}let r=x(t.quantity),l=x(t.rate);return Number.isNaN(r)||Number.isNaN(l)?e:e+r*l},0),[W]),es=(0,n.useMemo)(()=>{let e=parseFloat(P);return!H&&(Number.isNaN(e)||0===e)||Number.isNaN(e)||0===e?0:ea*e/100},[ea,P,H]),ei=(0,n.useMemo)(()=>{let e=parseFloat(K);return!V&&(Number.isNaN(e)||0===e)||Number.isNaN(e)||0===e?0:e},[K,V]),eo=ea+es-ei,ed=(0,n.useMemo)(()=>{let e=Z.trim();if(e)try{let t=btoa(unescape(encodeURIComponent(e)));return"https://see.fontimg.com/api/rf5/e9j06/NTcwZDdiY2FmZmM5NGEyN2E2YmMwMzVlYWFlMWQ4OTQub3Rm/".concat(t,"/maellen.png?r=fs&h=65&w=1000&fg=000000&bg=FFFFFF&tb=1&s=65")}catch(e){return}},[Z]),ec=async()=>{if(!et){if(er(!0),!eh||!ep){alert("Bill From name and Bill To name are required before exporting."),er(!1);return}try{let t={invoiceId:en||"UNASSIGNED",issueDate:k,dueDate:A,currency:R,billFromName:e,billFromCompany:r,billFromEmail:p,billFromWebsite:f,billFromAddress:j,billToName:v,billToCompany:w,billToEmail:S,billToWebsite:E,billToAddress:D,lineItems:W.map(e=>{let t,r=x(e.quantity),l=x(e.rate),n=null!=e.lineTotalInput&&""!==e.lineTotalInput.trim()?x(e.lineTotalInput):NaN;return Number.isNaN(n)?Number.isNaN(r)||Number.isNaN(l)||(t=r*l):t=n,{description:e.description,quantity:Number.isNaN(r)?void 0:r,rate:Number.isNaN(l)?void 0:l,lineTotal:t}}),subtotal:ea,taxAmount:es,discountValue:ei,grandTotal:eo,notes:O,remittanceDetails:$,sealUrl:"https://res.cloudinary.com/dnpxalm5i/image/upload/f_auto,q_auto,w_256/gh-pages/public/images/seal.png",signatureUrl:ed},n=await (0,a.x8)((0,l.jsx)(m,{data:t})).toBlob(),s=URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download="".concat(en||"invoice",".pdf"),"download"in HTMLAnchorElement.prototype?(document.body.appendChild(i),i.click(),document.body.removeChild(i)):window.open(s,"_blank"),setTimeout(()=>{URL.revokeObjectURL(s)},1e4)}finally{er(!1)}}},eu=(e,t,r)=>{q(l=>l.map(l=>{if(l.id!==e)return l;if("quantity"===t||"rate"===t){let e=r.replace(/[^0-9.,]/g,"");return{...l,[t]:e,lineTotalInput:void 0}}if("lineTotalInput"===t){let e=r.replace(/[^0-9.,-]/g,"");return{...l,lineTotalInput:e}}return{...l,[t]:r}}))},em=(e,t)=>{q(r=>r.map(r=>{if(r.id!==e)return r;let l=t.replace(/[^0-9.,-]/g,""),n=x(l);if(Number.isNaN(n))return{...r,rate:void 0,lineTotalInput:l};let a=x(r.quantity);if(!Number.isNaN(a)&&a>0){let e=Math.round(n/a*100)/100;return{...r,rate:e.toFixed(2),lineTotalInput:l}}let s=Math.round(100*n)/100;return{...r,rate:s.toFixed(2),lineTotalInput:l}}))},ex=e=>{q(t=>t.length<=1?t:t.filter(t=>t.id!==e))},eh=!!e.trim(),ep=!!v.trim();return(0,l.jsx)("main",{className:"py-6",children:(0,l.jsxs)(s.Section,{id:"casefile-invoices",title:"Investigation Bureau • Internal Ledger",heading:"Casefile Invoices",tagline:"A confidential register of work rendered, retainers honoured, and mysteries resolved.",decorativeText:"LEDGER",headingSize:"small",className:"max-w-5xl mx-auto px-4 relative print:max-w-none print:px-0",children:[(0,l.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-2 md:gap-3 print:hidden",children:[(0,l.jsx)("div",{className:"text-[11px] font-mono text-muted-foreground",children:"Internal tool • Not linked in navigation"}),(0,l.jsxs)("div",{className:"w-full md:w-auto flex flex-col items-stretch md:flex-row md:items-center md:justify-end gap-2 md:gap-3",children:[el&&!M&&(0,l.jsxs)("div",{className:"text-[11px] font-mono text-muted-foreground/80 md:text-right",children:[(0,l.jsx)("span",{className:"opacity-80",children:"Suggested ID:"})," ",(0,l.jsx)("span",{className:"font-semibold tracking-wide",children:el})]}),(0,l.jsx)("div",{className:"flex justify-stretch md:justify-end",children:(0,l.jsx)(d.R,{className:"w-full md:w-auto",onClick:ec,disabled:et,"aria-busy":et,children:et?"Preparing PDF":"Export PDF"})})]})]}),(0,l.jsxs)("div",{className:"border border-foreground/30 bg-background/95 px-6 py-6 md:px-8 md:py-8 print:border-0 print:px-10 print:py-8",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6 border-b border-foreground/20 pb-4 mb-4",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-[0]",children:[(0,l.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-1",children:"Bill From"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)(i.J,{placeholder:"Your name (required)",value:e,onChange:e=>t(e.target.value)}),(0,l.jsx)(i.J,{placeholder:"Your company / title (optional)",value:r,onChange:e=>u(e.target.value)}),(0,l.jsx)(i.J,{placeholder:"Email (optional)",value:p,onChange:e=>g(e.target.value)}),(0,l.jsx)(i.J,{placeholder:"Website (optional)",value:f,onChange:e=>b(e.target.value)}),(0,l.jsx)(o.$,{placeholder:"Address / City / Country (optional)",value:j,onChange:e=>y(e.target.value),className:"min-h-[70px]"})]})]}),(0,l.jsxs)("div",{className:"flex-1 min-w-[0]",children:[(0,l.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-1",children:"Bill To"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)(i.J,{placeholder:"Client name (required)",value:v,onChange:e=>N(e.target.value)}),(0,l.jsx)(i.J,{placeholder:"Company name (optional)",value:w,onChange:e=>T(e.target.value)}),(0,l.jsx)(i.J,{placeholder:"Email (optional)",value:S,onChange:e=>C(e.target.value)}),(0,l.jsx)(i.J,{placeholder:"Website (optional)",value:E,onChange:e=>F(e.target.value)}),(0,l.jsx)(o.$,{placeholder:"Address / City / Country (optional)",value:D,onChange:e=>Y(e.target.value),className:"min-h-[70px]"})]})]}),(0,l.jsxs)("div",{className:"w-full md:w-64 text-left space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-1",children:"Invoice No."}),(0,l.jsx)(i.J,{placeholder:el||"Invoice ID",value:M,onChange:e=>z(e.target.value)})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-2 text-[11px] md:text-[10px]",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"uppercase tracking-wide text-muted-foreground mb-1",children:"Issue Date"}),(0,l.jsx)(i.J,{type:"date",value:k,onChange:e=>L(e.target.value)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"uppercase tracking-wide text-muted-foreground mb-1",children:"Due Date (optional)"}),(0,l.jsx)(i.J,{type:"date",value:A,onChange:e=>I(e.target.value)})]})]}),(0,l.jsxs)("div",{className:"text-[11px] md:text-[10px]",children:[(0,l.jsx)("div",{className:"uppercase tracking-wide text-muted-foreground mb-1",children:"Currency"}),(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("div",{className:"absolute -bottom-1 -right-1 w-full h-full border-r border-b border-foreground/20 group-hover:border-foreground/40 transition-all duration-300 -z-10"}),(0,l.jsxs)("select",{className:(0,c.cn)("block w-full bg-background/80 px-3 py-2 text-sm font-serif border border-foreground/30 focus:outline-none focus:ring-1 focus:ring-foreground/50 transition-all duration-200"),value:R,onChange:e=>B(e.target.value),children:[(0,l.jsx)("option",{value:"USD",children:"USD"}),(0,l.jsx)("option",{value:"EUR",children:"EUR"}),(0,l.jsx)("option",{value:"AUD",children:"AUD"}),(0,l.jsx)("option",{value:"PKR",children:"PKR"}),(0,l.jsx)("option",{value:"CAD",children:"CAD"})]})]})]})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-2",children:"Scope of Investigation"}),(0,l.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-sm font-serif border-t border-b border-foreground/20",children:[(0,l.jsx)("thead",{className:"bg-foreground text-background",children:(0,l.jsxs)("tr",{className:"text-left",children:[(0,l.jsx)("th",{className:"px-3 py-2 w-1/2 font-semibold",children:"Description"}),(0,l.jsx)("th",{className:"px-3 py-2 w-24 text-right font-semibold",children:"Qty / Hours / Days"}),(0,l.jsxs)("th",{className:"px-3 py-2 w-24 text-right font-semibold",children:["Rate (",R,")"]}),(0,l.jsx)("th",{className:"px-3 py-2 w-24 text-right font-semibold",children:"Line Total"}),(0,l.jsx)("th",{className:"px-3 py-2 w-10 text-right print:hidden"})]})}),(0,l.jsx)("tbody",{children:W.map(e=>{var t,r;let n=x(e.quantity),a=x(e.rate),s=Number.isNaN(n)||Number.isNaN(a)?Number.isNaN(a)?0:a:n*a,d=!!(null==(t=e.description)?void 0:t.trim())||null!=e.quantity&&""!==e.quantity.trim()||null!=e.rate&&""!==e.rate.trim();return(0,l.jsxs)("tr",{className:"border-t border-foreground/10 align-top",children:[(0,l.jsx)("td",{className:"px-3 py-2",children:(0,l.jsx)(o.$,{placeholder:"Description of work (optional)",value:null!=(r=e.description)?r:"",onChange:t=>eu(e.id,"description",t.target.value),className:"min-h-[60px]"})}),(0,l.jsx)("td",{className:"px-3 py-2 align-top",children:(0,l.jsx)(i.J,{type:"text",inputMode:"decimal",placeholder:"0",value:null!=e.quantity?e.quantity:"",onChange:t=>eu(e.id,"quantity",t.target.value),className:"text-right"})}),(0,l.jsx)("td",{className:"px-3 py-2 align-top",children:(0,l.jsx)(i.J,{type:"text",inputMode:"decimal",placeholder:"0.00",value:null!=e.rate?e.rate:"",onChange:t=>eu(e.id,"rate",t.target.value),className:"text-right"})}),(0,l.jsx)("td",{className:"px-3 py-2 align-top text-right",children:(0,l.jsx)(i.J,{type:"text",inputMode:"decimal",placeholder:"0.00",value:null!=e.lineTotalInput?e.lineTotalInput:d&&s>0?s.toFixed(2):"",onChange:t=>em(e.id,t.target.value),className:"text-right","aria-label":"Line total"})}),(0,l.jsx)("td",{className:"px-3 py-2 align-top text-right print:hidden",children:(0,l.jsx)("button",{type:"button",className:"text-[11px] uppercase tracking-[0.2em] text-muted-foreground hover:text-foreground",onClick:()=>ex(e.id),children:W.length>1?"Remove":""})})]},e.id)})})]})}),(0,l.jsx)("div",{className:"md:hidden space-y-3",children:W.map(e=>{var t,r;let n=x(e.quantity),a=x(e.rate),s=Number.isNaN(n)||Number.isNaN(a)?Number.isNaN(a)?0:a:n*a,d=!!(null==(t=e.description)?void 0:t.trim())||null!=e.quantity&&""!==e.quantity.trim()||null!=e.rate&&""!==e.rate.trim();return(0,l.jsxs)("div",{className:"border border-foreground/20 bg-background/80 p-3 space-y-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-[11px] uppercase tracking-[0.2em] text-muted-foreground mb-1",children:"Description"}),(0,l.jsx)(o.$,{placeholder:"Description of work (optional)",value:null!=(r=e.description)?r:"",onChange:t=>eu(e.id,"description",t.target.value),className:"min-h-[70px]"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-[11px] text-muted-foreground mb-1",children:"Qty / Hours / Days"}),(0,l.jsx)(i.J,{type:"text",inputMode:"decimal",placeholder:"0",value:null!=e.quantity?e.quantity:"",onChange:t=>eu(e.id,"quantity",t.target.value),className:"text-right"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-[11px] text-muted-foreground mb-1",children:["Rate (",R,")"]}),(0,l.jsx)(i.J,{type:"text",inputMode:"decimal",placeholder:"0.00",value:null!=e.rate?e.rate:"",onChange:t=>eu(e.id,"rate",t.target.value),className:"text-right"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm gap-2",children:[(0,l.jsx)("span",{className:"text-[11px] text-muted-foreground",children:"Line Total"}),(0,l.jsx)(i.J,{type:"text",inputMode:"decimal",placeholder:"0.00",value:null!=e.lineTotalInput?e.lineTotalInput:d&&s>0?s.toFixed(2):"",onChange:t=>em(e.id,t.target.value),className:"w-28 text-right","aria-label":"Line total"})]}),(0,l.jsx)("div",{className:"flex justify-end pt-1",children:(0,l.jsx)("button",{type:"button",className:"text-[11px] uppercase tracking-[0.2em] text-muted-foreground hover:text-foreground",onClick:()=>ex(e.id),children:W.length>1?"Remove":""})})]},e.id)})}),(0,l.jsxs)("div",{className:"mt-2 flex justify-between items-center print:hidden",children:[(0,l.jsx)("div",{className:"text-[11px] text-muted-foreground italic",children:"Add as many lines as needed. Empty lines will be visually minimal in print."}),(0,l.jsx)(d.R,{variant:"ghost",onClick:()=>{q(e=>[...e,{id:String(Date.now()),description:"",quantity:void 0,rate:void 0,lineTotalInput:void 0}])},children:"Add Line"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 mt-4",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-[0]",children:[(0,l.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-2",children:"Notes to Client"}),(0,l.jsx)(o.$,{value:O,onChange:e=>Q(e.target.value),placeholder:"Any closing remarks, context on the investigation, or next steps. Optional.",className:"min-h-[120px]"})]}),(0,l.jsxs)("div",{className:"w-full md:w-72 border border-foreground/30 p-4 bg-muted/20 md:self-start",children:[(0,l.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-2",children:"Summary"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm font-serif",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Subtotal"}),(0,l.jsxs)("span",{children:[R," ",ea.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"mt-1",children:[(0,l.jsx)("div",{className:"text-[11px] text-muted-foreground mb-1",children:"Tax (optional)"}),(0,l.jsxs)("div",{className:"grid grid-cols-[1fr_auto] gap-2 items-center",children:[(0,l.jsx)(i.J,{placeholder:"Label (e.g. VAT)",value:H,onChange:e=>J(e.target.value)}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(i.J,{type:"number",inputMode:"decimal",placeholder:"%",value:P,onChange:e=>U(e.target.value),className:"w-16 text-right","aria-label":"Tax percentage"}),(0,l.jsx)("span",{className:"text-[11px] text-muted-foreground",children:"%"})]})]}),0!==es&&(0,l.jsxs)("div",{className:"mt-1 flex justify-between text-xs text-muted-foreground",children:[(0,l.jsx)("span",{children:H||"Tax"}),(0,l.jsxs)("span",{children:[R," ",es.toFixed(2)]})]})]}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("div",{className:"text-[11px] text-muted-foreground mb-1",children:"Discount (optional)"}),(0,l.jsxs)("div",{className:"grid grid-cols-[1fr_auto] gap-2 items-center",children:[(0,l.jsx)(i.J,{placeholder:"Label (e.g. Courtesy)",value:V,onChange:e=>_(e.target.value)}),(0,l.jsx)(i.J,{type:"number",inputMode:"decimal",placeholder:"0.00",value:K,onChange:e=>G(e.target.value),className:"w-24 text-right","aria-label":"Discount amount"})]}),0!==ei&&(0,l.jsxs)("div",{className:"mt-1 flex justify-between text-xs text-muted-foreground",children:[(0,l.jsx)("span",{children:V||"Discount"}),(0,l.jsxs)("span",{children:["- ",R," ",ei.toFixed(2)]})]})]}),(0,l.jsxs)("div",{className:"border-t border-foreground/40 mt-3 pt-2 font-semibold flex justify-between text-sm",children:[(0,l.jsx)("span",{children:"Total"}),(0,l.jsxs)("span",{children:[R," ",eo.toFixed(2)]})]})]})]})]}),(0,l.jsxs)("div",{className:"mt-6 border-t border-foreground/20 pt-3",children:[(0,l.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-2",children:"Signature"}),(0,l.jsx)(i.J,{value:Z,onChange:e=>ee(e.target.value),placeholder:"Name to render in signature image"})]}),($.trim().length,(0,l.jsxs)("div",{className:"mt-6 border-t border-foreground/20 pt-3",children:[(0,l.jsx)("div",{className:"text-[11px] uppercase tracking-[0.25em] text-muted-foreground mb-2",children:"Remittance Details"}),(0,l.jsx)(o.$,{value:$,onChange:e=>X(e.target.value),placeholder:"Bank, Stripe, Wise, or other payment instructions. Optional, but recommended.",className:"min-h-[100px]"})]})),(0,l.jsx)("div",{className:"mt-6 text-[10px] text-muted-foreground font-mono text-center",children:"Internal use • Casefile Invoices • Generated via The Developer Times desk apparatus"})]})]})})}},6341:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});var l=r(5155),n=r(3999);let a=(0,r(2115).forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("div",{className:"absolute -bottom-1 -right-1 w-full h-full border-r border-b border-foreground/20 group-hover:border-foreground/40 transition-all duration-300 -z-10"}),(0,l.jsx)("textarea",{className:(0,n.cn)("block w-full bg-background/80 px-3 py-2 text-sm font-serif min-h-[100px]","border border-foreground/30 focus:outline-none focus:ring-1 focus:ring-foreground/50","transition-all duration-200 placeholder:text-foreground/50 resize-none",r),ref:t,...a})]})});a.displayName="VintageTextarea"},7597:(e,t,r)=>{"use strict";r.d(t,{TorchProvider:()=>o,i:()=>i});var l=r(5155),n=r(2115),a=r(1362);let s=(0,n.createContext)(void 0),i=()=>{let e=(0,n.useContext)(s);if(!e)throw Error("useTorch must be used within a TorchProvider");return e},o=e=>{let{children:t}=e,[r,i]=(0,n.useState)(!1),[o,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),{theme:m}=(0,a.D)();(0,n.useEffect)(()=>{u(!0);let e=()=>{let e="ontouchstart"in window||navigator.maxTouchPoints>0,t=window.screen.width;window.screen.height,d(!e||t>=1024)};e(),window.addEventListener("resize",e);let t=localStorage.getItem("torch-enabled");return null!==t&&i("true"===t),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{c&&"dark"!==m&&r&&x(!1)},[m,c]);let x=e=>{i(e),c&&localStorage.setItem("torch-enabled",e.toString())};return(0,l.jsx)(s.Provider,{value:{torchEnabled:r,setTorchEnabled:x,isDesktop:o},children:t})}},9344:(e,t,r)=>{Promise.resolve().then(r.bind(r,4476))},9391:(e,t,r)=>{"use strict";r.d(t,{R:()=>s});var l=r(5155),n=r(3999),a=r(1154);function s(e){let{children:t,className:r,onClick:s,type:i="button",variant:o="default",isLoading:d=!1,disabled:c=!1}=e,u=d?"cursor-wait":"";return(0,l.jsx)("button",{type:i,onClick:s,disabled:c||d,className:(0,n.cn)("inline-flex items-center justify-center px-6 py-3 font-serif text-sm tracking-wider uppercase transition-all duration-200 relative",{default:"bg-foreground text-background hover:bg-foreground/90",outline:"border border-foreground/30 bg-background/90 hover:bg-foreground/5",ghost:"hover:bg-foreground/5"}[o],c||d?"opacity-50 cursor-not-allowed":"cursor-pointer",u,"group",r),children:(0,l.jsxs)("span",{className:"inline-flex items-center gap-2",children:[d&&(0,l.jsx)(a.A,{className:"h-4 w-4 animate-spin"}),t]})})}}},e=>{e.O(0,[247,788,746,792,829,779,490,441,964,358],()=>e(e.s=9344)),_N_E=e.O()}]);