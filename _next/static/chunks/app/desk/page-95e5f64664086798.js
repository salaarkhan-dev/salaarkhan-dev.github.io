(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[758],{93:(e,t,n)=>{"use strict";function r(e){let{src:t,width:n,quality:r}=e,s="f_auto,q_auto,w_".concat(n).concat(r?",q_".concat(r):""),a=t.startsWith("/")?t.slice(1):t;return"".concat("https://res.cloudinary.com/".concat("dnpxalm5i","/image/upload"),"/").concat(s,"/").concat("gh-pages/public","/").concat(a)}function s(e){let t=e.startsWith("/")?e.slice(1):e;return"https://res.cloudinary.com/".concat("dnpxalm5i","/video/upload/").concat("gh-pages/public","/").concat(t)}n.r(t),n.d(t,{default:()=>r,getCloudinaryAudioUrl:()=>s})},833:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(5155),s=n(2115),a=n(7645);function i(e){let{children:t,action:n="highlight",color:i="#ffd1dc",strokeWidth:o=1.5,animationDuration:l=600,iterations:c=2,padding:h=2,multiline:u=!0}=e,d=(0,s.useRef)(null),m=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=d.current;if(e){let t=(0,a.f)(e,{type:n,color:i,strokeWidth:o,animationDuration:l,iterations:c,padding:h,multiline:u});return m.current=t,t.show(),()=>{try{var e;null==(e=m.current)||e.remove()}catch(e){}finally{m.current=null}}}},[n,i,o,l,c,h,u]),(0,r.jsx)("span",{ref:d,className:"relative inline-block bg-transparent",children:t})}},1011:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var r=n(5155),s=n(2115),a=n(3781),i=n(6766),o=n(93),l=n(3999);function c(e){let{id:t,position:n,startAngle:a=285,stepAngle:i=36,steps:c=10,color:h="#A37C43",onStepChange:u,controlledStep:d,className:m="",thicknessPct:p=3}=e,[f,g]=(0,s.useState)(0),x=null!=d?d:f,v=(0,s.useRef)(null);(0,s.useEffect)(()=>(v.current=new Audio,()=>{v.current&&(v.current.pause(),v.current=null)}),[]);let w=(0,s.useMemo)(()=>{var e,t;return{top:n.top,left:n.left,width:void 0!==n.sizePct?"".concat(n.sizePct,"%"):null!=(e=n.size)?e:"3.5rem",...void 0!==n.sizePct?{height:"auto",aspectRatio:"1 / 1"}:{height:null!=(t=n.size)?t:"3.5rem"},borderRadius:"50%"}},[n]),y=(0,s.useMemo)(()=>({height:"50%",top:"50%",left:"50%",width:"".concat(p,"%"),transform:"translate(-50%, -100%) rotate(".concat(a+x*i,"deg)"),transformOrigin:"bottom center",backgroundColor:h}),[a,x,i,h,p]);return(0,r.jsx)("div",{id:t,onClick:()=>{let e=(x+1)%c;void 0===d&&g(e),null==u||u(e);try{if(!v.current)return;v.current.pause(),v.current.src=(0,o.getCloudinaryAudioUrl)("sounds/knob-click.mp3"),v.current.currentTime=0,v.current.volume=.28,v.current.play()}catch(e){}},className:(0,l.cn)("absolute rounded-full flex items-center justify-center cursor-pointer",m),style:w,children:(0,r.jsx)("div",{className:"absolute rounded-sm blur-[0.5px]",style:y})})}let h=null,u=null,d=null,m=new WeakMap;function p(){return h||((u=(h=new(window.AudioContext||window.webkitAudioContext)).createGain()).gain.value=1,(d=h.createBiquadFilter()).type="lowpass",d.frequency.value=12e3,d.Q.value=1e-4,d.connect(u),u.connect(h.destination)),h}function f(e){let t=p();if(t&&d&&!m.has(e))try{let n=t.createMediaElementSource(e);n.connect(d),m.set(e,n)}catch(e){}}function g(e){if(p(),!d)return;let t=Math.max(0,Math.min(2,Math.round(e)));d.frequency.value=[9e3,2500,500][t]}async function x(){let e=p();try{e&&"running"!==e.state&&await e.resume()}catch(e){}}function v(){let e=p();return!!e&&"running"===e.state}function w(e){let{label:t,audioPath:n,onSoundPath:a="sounds/switch-off.mp3",offSoundPath:i="sounds/switch-off.mp3",checked:l,defaultChecked:c,onChange:h,volume:u=0,className:d="",size:m="clamp(0.6rem, 1vw, 1rem)"}=e,[p,g]=(0,s.useState)(!!c),v="boolean"==typeof l,w=v?!!l:p,y=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(!n)return;y.current||(y.current=new Audio);let e=y.current;e.crossOrigin="anonymous",e.src=(0,o.getCloudinaryAudioUrl)(n),e.loop=!0,e.preload="auto",f(e);try{e.load()}catch(e){}let t=()=>{console.error("Audio failed to load:",e.src)};e.addEventListener("error",t);let r=async()=>{try{await x(),(v?!!l:p)&&(e.currentTime=0,await e.play().catch(e=>{console.warn("Audio play() rejected:",e)}))}catch(e){}};return e.addEventListener("canplay",r,{once:!0}),()=>{e.removeEventListener("error",t),e.removeEventListener("canplay",r)}},[n]),(0,s.useEffect)(()=>()=>{y.current&&(y.current.pause(),y.current=null)},[]),(0,s.useEffect)(()=>{let e=y.current;e&&(w?(async()=>{await x();try{e.currentTime=0,await e.play()}catch(e){console.warn("Audio play() rejected on toggle:",e)}})():(e.pause(),e.currentTime=0))},[w]),(0,s.useEffect)(()=>{let e=y.current;e&&(e.volume=Math.min(.45,.45*Math.max(0,Math.min(1,(null!=u?u:0)/100))))},[u]);let b=(0,s.useMemo)(()=>({width:"0.9em",height:"0.9em",borderRadius:"50%",background:w?"radial-gradient(circle at 35% 35%, #2ecc71 0%, #1fae5a 55%, #128746 100%)":"radial-gradient(circle at 35% 35%, #a1a6ab 0%, #8e9399 55%, #6f747a 100%)",boxShadow:w?"0 0 0.35em rgba(46,204,113,0.45)":"none",marginRight:"0.5em",flex:"0 0 auto"}),[w]),_={marginLeft:"0.5em",fontFamily:"'Times New Roman', Georgia, serif",fontSize:"0.9em",letterSpacing:"0.06em",color:"#0f0c09",userSelect:"none"},k=()=>{let e=!w;v||g(e),null==h||h(e);try{let t=new Audio;t.src=(0,o.getCloudinaryAudioUrl)(e?a:i),t.volume=e?.3:.2,t.play()}catch(e){}e&&y.current&&(async()=>{try{await x();let e=y.current;e.muted=!1,await e.play()}catch(e){console.warn("Immediate play() in toggle failed:",e)}})()};return(0,r.jsxs)("div",{className:d,style:{appearance:"none",background:"transparent",border:0,margin:0,display:"flex",alignItems:"center",fontSize:m},children:[(0,r.jsx)("button",{role:"switch","aria-checked":w,"aria-label":null!=t?t:"switch",onClick:e=>{e.stopPropagation(),k()},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),k())},style:{...b,appearance:"none",border:0,padding:0,background:b.background,cursor:"pointer"}}),t?(0,r.jsx)("span",{style:{textAlign:"left",fontFamily:"'Times New Roman', Georgia, serif",letterSpacing:"0.12em",textTransform:"uppercase",color:"#2D1C12",userSelect:"none",whiteSpace:"nowrap",overflow:"hidden"},className:"text-[1em] sm:text-[1.2em]",children:t}):null,w&&u>0?(0,r.jsxs)("span",{style:_,className:"opacity-45",children:[Math.round(u),"%"]}):(0,r.jsx)("span",{style:_,className:"opacity-0",children:"100%"})]})}let y=!1,b=1,_=[],k=!1,M=0;function S(){_.forEach(e=>clearTimeout(e)),_=[]}let C=[{path:"sounds/events/door-creak.mp3",weight:1.2},{path:"sounds/events/phone-ring.mp3",weight:.4,distant:!0},{path:"sounds/events/lighter.mp3",weight:1},{path:"sounds/events/footsteps.mp3",weight:1.1},{path:"sounds/events/horse-street.mp3",weight:.7,distant:!0},{path:"sounds/events/shuffle-papers.mp3",weight:1.2},{path:"sounds/events/sirens.mp3",weight:.8,distant:!0,volumeOverride:.4},{path:"sounds/events/stamp.mp3",weight:.8},{path:"sounds/events/knock.mp3",weight:.6,distant:!0},{path:"sounds/events/drawer.mp3",weight:.8}];function E(){let e=Math.random()*C.reduce((e,t)=>e+t.weight,0);for(let t of C)if((e-=t.weight)<=0)return t;return C[0]}function A(e){if(!y)return;let{min:t,max:n}=[{min:3e4,max:8e4},{min:2e4,max:45e3},{min:12e3,max:25e3}][b],r=t+Math.random()*(n-t),s=.9+.2*Math.random(),a=null!=e?e:Math.max(1500,r*s),i=Date.now();console.debug("[random-events] scheduling next in",Math.round(a=Math.max(a,Math.max(0,M+[12e3,14e3,4e3][b]-i))),"ms");let l=window.setTimeout(async()=>{if(y){if(!v())return void A(1e3);try{let e=E(),t=new Audio;t.crossOrigin="anonymous",t.src=(0,o.getCloudinaryAudioUrl)(e.path),t.preload="auto";let n=.78;null!=e.volumeOverride?n=e.volumeOverride:e.distant&&(n=.22),t.volume=n=Math.max(0,Math.min(1,n*(.88+.24*Math.random()))),t.playbackRate=.92+.16*Math.random(),f(t),await x(),console.debug("[random-events] play",e.path),await t.play().then(()=>{M=Date.now()}).catch(()=>{});let r=[0,0,.15][b];if(Math.random()<r){let e=E(),t=new Audio;t.crossOrigin="anonymous",t.src=(0,o.getCloudinaryAudioUrl)(e.path),t.preload="auto";let n=.38;null!=e.volumeOverride?n=e.volumeOverride:e.distant&&(n=.18),t.volume=n=Math.max(0,Math.min(1,n*(.88+.24*Math.random()))),t.playbackRate=.92+.16*Math.random(),f(t),await t.play().catch(()=>{})}}finally{A()}}},a);_.push(l)}function j(e){b=Math.max(0,Math.min(2,Math.round(e)))}function T(e){let{imageSrc:t="images/radio-min.png",className:n=""}=e,[a,l]=(0,s.useState)(0),[h,u]=(0,s.useState)(0),[d,m]=(0,s.useState)(1),[p,f]=(0,s.useState)([{label:"Jazz",audioPath:"sounds/enchanted.mp3"},{label:"Rain",audioPath:"sounds/radio/rain.mp3"},{label:"Fireplace",audioPath:"sounds/radio/fireplace.mp3"},{label:"Typewriter",audioPath:"sounds/radio/typewriter.mp3"},{label:"Cafe",audioPath:"sounds/radio/cafe.mp3"},{label:"Street",audioPath:"sounds/radio/street.mp3"},{label:"Radio Static",audioPath:"sounds/radio/radio-static.mp3"},{label:"Writing",audioPath:"sounds/radio/writing.mp3"}].map(e=>({...e,checked:!1,volume:100}))),[b,_]=(0,s.useState)(null);return(0,s.useEffect)(()=>(g(h),j(d),!function(){if(y)return;y=!0,v()&&A(400+800*Math.random());let e=async()=>{try{await x()}finally{!k&&y&&(k=!0,S(),A(600))}};window.addEventListener("pointerdown",e,{once:!0,passive:!0}),window.addEventListener("keydown",e,{once:!0})}(),()=>void(y=!1,S(),k=!1)),[]),(0,r.jsxs)("div",{className:"relative w-full h-full ".concat(n),children:[(0,r.jsx)(i.default,{loader:o.default,src:t,alt:"radio",width:1400,height:1400,className:"w-full h-full object-cover",priority:!0}),(0,r.jsx)(c,{position:{top:"50%",left:"17%",sizePct:12},startAngle:240,stepAngle:30,steps:9,color:"#A37C43",thicknessPct:5,controlledStep:a,onStepChange:e=>{if(l(e),null!==b){let t=Math.round(e/8*100);f(e=>e.map((e,n)=>n===b?{...e,volume:t}:e))}}}),(0,r.jsx)(c,{position:{top:"50%",left:"43%",sizePct:12},startAngle:240,stepAngle:120,steps:3,color:"#A37C43",thicknessPct:5,controlledStep:h,onStepChange:e=>{u(e),g(e)}}),(0,r.jsx)(c,{position:{top:"50%",left:"69.5%",sizePct:12},startAngle:240,stepAngle:120,steps:3,color:"#A37C43",thicknessPct:5,controlledStep:d,onStepChange:e=>{m(e),j(e)}}),(0,r.jsx)("div",{className:"absolute grid grid-cols-2 gap-y-0 sm:gap-y-2",style:{top:"16%",left:"14%",fontSize:"clamp(8px, 0.9vw, 13px)"},children:p.map((e,t)=>(0,r.jsx)("div",{onClick:()=>{_(t),l(Math.round(e.volume/100*8)),e.checked||f(e=>e.map((e,n)=>n===t?{...e,checked:!0}:e))},className:b===t?"outline-1 outline-black/40 rounded-xs mx-1 px-1":"mx-1 px-1",children:(0,r.jsx)(w,{label:e.label,audioPath:e.audioPath,checked:e.checked,volume:e.volume,onChange:e=>f(n=>n.map((n,r)=>r===t?{...n,checked:e}:n))})},"".concat(e.label,"-").concat(t)))})]})}function N(){let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{var e;let n=window.matchMedia("(min-width: 640px)"),r=()=>t(n.matches);return r(),null==(e=n.addEventListener)||e.call(n,"change",r),()=>{var e;return null==(e=n.removeEventListener)?void 0:e.call(n,"change",r)}},[]),(0,r.jsx)("main",{className:"py-6",children:(0,r.jsxs)(a.w,{id:"desk",title:"Investigation Bureau • Est. 2019 • Volume IV",heading:"The Detective's Desk",tagline:"An inner-office apparatus for focused inquiry: a pocket‑watch Pomodoro, gramophone‑grade ambience, and a clerk's log to record cases solved.",decorativeText:"DESK",headingSize:"small",className:"max-w-6xl mx-auto px-4 relative",children:[e&&(0,r.jsx)(T,{}),!e&&(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-lg border border-border bg-card text-card-foreground shadow-[inset_0_1px_0_0_rgba(255,255,255,0.03)]",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-[0.06] [background-image:radial-gradient(ellipse_at_top,rgba(255,255,255,0.6),transparent_50%),radial-gradient(ellipse_at_bottom,rgba(0,0,0,0.6),transparent_50%)]"}),(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsx)("p",{className:"text-[10px] tracking-[0.35em] uppercase text-foreground/50 font-semibold mb-1",children:"Notice to Readers"}),(0,r.jsx)("h3",{className:"font-serif text-lg leading-snug text-foreground",children:"Wireless Set Under Maintenance"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-muted-foreground font-serif",children:"Our desk radio—experimental Beta apparatus—is presently available to desktop inspectors only. The mobile edition is being tuned by the night engineer. Kindly revisit from a desktop machine."}),(0,r.jsx)("p",{className:"mt-3 text-[11px] tracking-wide text-muted-foreground/80 italic font-serif",children:"— Editorial Desk, The Developer Times"})]}),(0,r.jsx)("div",{className:"border-t border-border px-5 py-2 text-[10px] tracking-widest uppercase text-muted-foreground/80 bg-muted/30",children:"Vol. IV • Technical Bulletin • Circulation: Limited"})]})})]})})}},1362:(e,t,n)=>{"use strict";n.d(t,{D:()=>c,ThemeProvider:()=>h});var r=n(2115),s=(e,t,n,r,s,a,i,o)=>{let l=document.documentElement,c=["light","dark"];function h(t){var n;(Array.isArray(e)?e:[e]).forEach(e=>{let n="class"===e,r=n&&a?s.map(e=>a[e]||e):s;n?(l.classList.remove(...r),l.classList.add(a&&a[t]?a[t]:t)):l.setAttribute(e,t)}),n=t,o&&c.includes(n)&&(l.style.colorScheme=n)}if(r)h(r);else try{let e=localStorage.getItem(t)||n,r=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;h(r)}catch(e){}},a=["light","dark"],i="(prefers-color-scheme: dark)",o=r.createContext(void 0),l={setTheme:e=>{},themes:[]},c=()=>{var e;return null!=(e=r.useContext(o))?e:l},h=e=>r.useContext(o)?r.createElement(r.Fragment,null,e.children):r.createElement(d,{...e}),u=["light","dark"],d=e=>{let{forcedTheme:t,disableTransitionOnChange:n=!1,enableSystem:s=!0,enableColorScheme:l=!0,storageKey:c="theme",themes:h=u,defaultTheme:d=s?"system":"light",attribute:x="data-theme",value:v,children:w,nonce:y,scriptProps:b}=e,[_,k]=r.useState(()=>p(c,d)),[M,S]=r.useState(()=>"system"===_?g():_),C=v?Object.values(v):h,E=r.useCallback(e=>{let t=e;if(!t)return;"system"===e&&s&&(t=g());let r=v?v[t]:t,i=n?f(y):null,o=document.documentElement,c=e=>{"class"===e?(o.classList.remove(...C),r&&o.classList.add(r)):e.startsWith("data-")&&(r?o.setAttribute(e,r):o.removeAttribute(e))};if(Array.isArray(x)?x.forEach(c):c(x),l){let e=a.includes(d)?d:null,n=a.includes(t)?t:e;o.style.colorScheme=n}null==i||i()},[y]),A=r.useCallback(e=>{let t="function"==typeof e?e(_):e;k(t);try{localStorage.setItem(c,t)}catch(e){}},[_]),j=r.useCallback(e=>{S(g(e)),"system"===_&&s&&!t&&E("system")},[_,t]);r.useEffect(()=>{let e=window.matchMedia(i);return e.addListener(j),j(e),()=>e.removeListener(j)},[j]),r.useEffect(()=>{let e=e=>{e.key===c&&(e.newValue?k(e.newValue):A(d))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[A]),r.useEffect(()=>{E(null!=t?t:_)},[t,_]);let T=r.useMemo(()=>({theme:_,setTheme:A,forcedTheme:t,resolvedTheme:"system"===_?M:_,themes:s?[...h,"system"]:h,systemTheme:s?M:void 0}),[_,A,t,M,s,h]);return r.createElement(o.Provider,{value:T},r.createElement(m,{forcedTheme:t,storageKey:c,attribute:x,enableSystem:s,enableColorScheme:l,defaultTheme:d,value:v,themes:h,nonce:y,scriptProps:b}),w)},m=r.memo(e=>{let{forcedTheme:t,storageKey:n,attribute:a,enableSystem:i,enableColorScheme:o,defaultTheme:l,value:c,themes:h,nonce:u,scriptProps:d}=e,m=JSON.stringify([a,n,l,t,h,c,i,o]).slice(1,-1);return r.createElement("script",{...d,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(s.toString(),")(").concat(m,")")}})}),p=(e,t)=>{let n;try{n=localStorage.getItem(e)||void 0}catch(e){}return n||t},f=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},g=e=>(e||(e=window.matchMedia(i)),e.matches?"dark":"light")},3781:(e,t,n)=>{"use strict";n.d(t,{w:()=>l});var r=n(5155),s=n(3999),a=n(2115),i=n(833),o=n(7597);function l(e){let{id:t,title:n,heading:l,tagline:c,decorativeText:h,children:u,className:d,decorativeTextClassName:m,headingSize:p="small",fullWidth:f=!1}=e,{torchEnabled:g}=(0,o.i)(),[x,v]=(0,a.useState)(!1);return(0,a.useEffect)(()=>v(!0),[]),(0,r.jsxs)("section",{id:t,className:(0,s.cn)("py-12 relative mx-auto ",f?"":" max-w-5xl px-4 sm:px-6",d),children:[(0,r.jsxs)("div",{className:(0,s.cn)("text-center mb-12 border-b-1 border-foreground/20 pb-6",f&&"max-w-3xl mx-auto px-4 sm:px-6 relative"),children:[(0,r.jsx)("div",{className:"text-xs uppercase tracking-widest text-muted-foreground mb-2",children:n}),"large"===p?(0,r.jsx)("h1",{className:"text-3xl md:text-5xl font-bold font-serif text-foreground",children:l}):(0,r.jsx)("h2",{className:"text-2xl md:text-3xl font-bold font-serif text-foreground",children:l}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mt-2 italic font-serif",children:["“",c,"“"]}),f&&(0,r.jsx)("div",{className:(0,s.cn)("uppercase absolute -top-10 -right-2 text-[86px] xs:text-[100px] sm:text-[150px] md:text-[200px] leading-none font-bold font-serif text-foreground/10 md:text-foreground/5 -z-10 select-none pointer-events-none",m),children:x&&g?(0,r.jsx)(i.M,{action:"circle",color:"#FF9800",strokeWidth:1.5,animationDuration:600,iterations:2,padding:2,children:(0,r.jsx)("span",{children:h})}):(0,r.jsx)("span",{children:h})})]}),u,!f&&(0,r.jsx)("div",{className:(0,s.cn)("uppercase absolute top-0 right-0 text-[86px] xs:text-[100px] sm:text-[150px] md:text-[200px] leading-none font-bold font-serif text-foreground/10 md:text-foreground/5 -z-10 select-none pointer-events-none",m),children:x&&g?(0,r.jsx)(i.M,{action:"circle",color:"#FF9800",strokeWidth:1.5,animationDuration:600,iterations:2,padding:2,children:(0,r.jsx)("span",{children:h})}):(0,r.jsx)("span",{children:h})})]})}},3999:(e,t,n)=>{"use strict";n.d(t,{cn:()=>a,l:()=>i});var r=n(2596),s=n(9688);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.QP)((0,r.$)(t))}function i(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="0123456789",r="";for(let s=0;s<5;s++)s%2==0?r+=t.charAt((e.charCodeAt(s%e.length)+s)%t.length):r+=n.charAt((e.charCodeAt(s%e.length)+s)%n.length);return"REF-".concat(r)}},4676:(e,t,n)=>{Promise.resolve().then(n.bind(n,1011))},7597:(e,t,n)=>{"use strict";n.d(t,{TorchProvider:()=>l,i:()=>o});var r=n(5155),s=n(2115),a=n(1362);let i=(0,s.createContext)(void 0),o=()=>{let e=(0,s.useContext)(i);if(!e)throw Error("useTorch must be used within a TorchProvider");return e},l=e=>{let{children:t}=e,[n,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),[h,u]=(0,s.useState)(!1),{theme:d}=(0,a.D)();(0,s.useEffect)(()=>{u(!0);let e=()=>{let e="ontouchstart"in window||navigator.maxTouchPoints>0,t=window.screen.width;window.screen.height,c(!e||t>=1024)};e(),window.addEventListener("resize",e);let t=localStorage.getItem("torch-enabled");return null!==t&&o("true"===t),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{h&&"dark"!==d&&n&&m(!1)},[d,h]);let m=e=>{o(e),h&&localStorage.setItem("torch-enabled",e.toString())};return(0,r.jsx)(i.Provider,{value:{torchEnabled:n,setTorchEnabled:m,isDesktop:l},children:t})}},7645:(e,t,n)=>{"use strict";n.d(t,{f:()=>x});let r="http://www.w3.org/2000/svg";class s{constructor(e){this.seed=e}next(){return this.seed?(0x80000000-1&(this.seed=Math.imul(48271,this.seed)))/0x80000000:Math.random()}}function a(e,t,n,r,s){return{type:"path",ops:u(e,t,n,r,s)}}function i(e,t,n){let r=(e||[]).length;if(r>2){let s=[];for(let t=0;t<r-1;t++)s.push(...u(e[t][0],e[t][1],e[t+1][0],e[t+1][1],n));return t&&s.push(...u(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n)),{type:"path",ops:s}}return 2===r?a(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function o(e,t,n,r,s){return function(e,t,n,r){let[s,a]=p(r.increment,e,t,r.rx,r.ry,1,r.increment*c(.1,c(.4,1,n),n),n),i=m(s,null,n);if(!n.disableMultiStroke){let[s]=p(r.increment,e,t,r.rx,r.ry,1.5,0,n),a=m(s,null,n);i=i.concat(a)}return{estimatedPoints:a,opset:{type:"path",ops:i}}}(e,t,s,function(e,t,n){let r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),s=2*Math.PI/Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r),a=Math.abs(e/2),i=Math.abs(t/2),o=1-n.curveFitting;return a+=h(a*o,n),i+=h(i*o,n),{increment:s,rx:a,ry:i}}(n,r,s)).opset}function l(e){return e.randomizer||(e.randomizer=new s(e.seed||0)),e.randomizer.next()}function c(e,t,n,r=1){return n.roughness*r*(l(n)*(t-e)+e)}function h(e,t,n=1){return c(-e,e,t,n)}function u(e,t,n,r,s,a=!1){let i=a?s.disableMultiStrokeFill:s.disableMultiStroke,o=d(e,t,n,r,s,!0,!1);if(i)return o;let l=d(e,t,n,r,s,!0,!0);return o.concat(l)}function d(e,t,n,r,s,a,i){let o=Math.pow(e-n,2)+Math.pow(t-r,2),c=Math.sqrt(o),u=1;u=c<200?1:c>500?.4:-.0016668*c+1.233334;let d=s.maxRandomnessOffset||0;d*d*100>o&&(d=c/10);let m=d/2,p=.2+.2*l(s),f=s.bowing*s.maxRandomnessOffset*(r-t)/200,g=s.bowing*s.maxRandomnessOffset*(e-n)/200;f=h(f,s,u),g=h(g,s,u);let x=[],v=()=>h(m,s,u),w=()=>h(d,s,u);return a&&(i?x.push({op:"move",data:[e+v(),t+v()]}):x.push({op:"move",data:[e+h(d,s,u),t+h(d,s,u)]})),i?x.push({op:"bcurveTo",data:[f+e+(n-e)*p+v(),g+t+(r-t)*p+v(),f+e+2*(n-e)*p+v(),g+t+2*(r-t)*p+v(),n+v(),r+v()]}):x.push({op:"bcurveTo",data:[f+e+(n-e)*p+w(),g+t+(r-t)*p+w(),f+e+2*(n-e)*p+w(),g+t+2*(r-t)*p+w(),n+w(),r+w()]}),x}function m(e,t,n){let r=e.length,s=[];if(r>3){let a=[],i=1-n.curveTightness;s.push({op:"move",data:[e[1][0],e[1][1]]});for(let t=1;t+2<r;t++){let n=e[t];a[0]=[n[0],n[1]],a[1]=[n[0]+(i*e[t+1][0]-i*e[t-1][0])/6,n[1]+(i*e[t+1][1]-i*e[t-1][1])/6],a[2]=[e[t+1][0]+(i*e[t][0]-i*e[t+2][0])/6,e[t+1][1]+(i*e[t][1]-i*e[t+2][1])/6],a[3]=[e[t+1][0],e[t+1][1]],s.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&2===t.length){let e=n.maxRandomnessOffset;s.push({op:"lineTo",data:[t[0]+h(e,n),t[1]+h(e,n)]})}}else 3===r?(s.push({op:"move",data:[e[1][0],e[1][1]]}),s.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&s.push(...u(e[0][0],e[0][1],e[1][0],e[1][1],n));return s}function p(e,t,n,r,s,a,i,o){let l=[],c=[],u=h(.5,o)-Math.PI/2;c.push([h(a,o)+t+.9*r*Math.cos(u-e),h(a,o)+n+.9*s*Math.sin(u-e)]);for(let i=u;i<2*Math.PI+u-.01;i+=e){let e=[h(a,o)+t+r*Math.cos(i),h(a,o)+n+s*Math.sin(i)];l.push(e),c.push(e)}return c.push([h(a,o)+t+r*Math.cos(u+2*Math.PI+.5*i),h(a,o)+n+s*Math.sin(u+2*Math.PI+.5*i)]),c.push([h(a,o)+t+.98*r*Math.cos(u+i),h(a,o)+n+.98*s*Math.sin(u+i)]),c.push([h(a,o)+t+.9*r*Math.cos(u+.5*i),h(a,o)+n+.9*s*Math.sin(u+.5*i)]),[c,l]}function f(e,t){return{maxRandomnessOffset:2,roughness:"highlight"===e?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,combineNestedSvgPaths:!1,disableMultiStroke:"double"!==e,disableMultiStrokeFill:!1,seed:t}}class g{constructor(e,t){this._state="unattached",this._resizing=!1,this._seed=Math.floor(0x80000000*Math.random()),this._lastSizes=[],this._animationDelay=0,this._resizeListener=()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,"showing"===this._state&&this.haveRectsChanged()&&this.show()},400))},this._e=e,this._config=JSON.parse(JSON.stringify(t)),this.attach()}get animate(){return this._config.animate}set animate(e){this._config.animate=e}get animationDuration(){return this._config.animationDuration}set animationDuration(e){this._config.animationDuration=e}get iterations(){return this._config.iterations}set iterations(e){this._config.iterations=e}get color(){return this._config.color}set color(e){this._config.color!==e&&(this._config.color=e,this.refresh())}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(e){this._config.strokeWidth!==e&&(this._config.strokeWidth=e,this.refresh())}get padding(){return this._config.padding}set padding(e){this._config.padding!==e&&(this._config.padding=e,this.refresh())}attach(){if("unattached"===this._state&&this._e.parentElement){if(!window.__rno_kf_s){let e=window.__rno_kf_s=document.createElement("style");e.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(e)}let e=this._svg=document.createElementNS(r,"svg");e.setAttribute("class","rough-annotation");let t=e.style;t.position="absolute",t.top="0",t.left="0",t.overflow="visible",t.pointerEvents="none",t.width="100px",t.height="100px";let n="highlight"===this._config.type;if(this._e.insertAdjacentElement(n?"beforebegin":"afterend",e),this._state="not-showing",n){let e=window.getComputedStyle(this._e).position;e&&"static"!==e||(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(e=>{for(let t of e)t.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){let e=this.rects();if(e.length!==this._lastSizes.length)return!0;for(let t=0;t<e.length;t++)if(!this.isSameRect(e[t],this._lastSizes[t]))return!0}return!1}isSameRect(e,t){let n=(e,t)=>Math.round(e)===Math.round(t);return n(e.x,t.x)&&n(e.y,t.y)&&n(e.w,t.w)&&n(e.h,t.h)}isShowing(){return"not-showing"!==this._state}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&this.render(this._svg,!1)}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}render(e,t){let n=this._config;t&&((n=JSON.parse(JSON.stringify(this._config))).animate=!1);let s=this.rects(),l=0;s.forEach(e=>l+=e.w);let c=n.animationDuration||800,h=0;for(let t=0;t<s.length;t++){let u=c*(s[t].w/l);(function(e,t,n,s,l,c){let h=[],u=n.strokeWidth||2,d=function(e){let t=e.padding;if(t||0===t){if("number"==typeof t)return[t,t,t,t];if(Array.isArray(t)&&t.length)switch(t.length){case 4:return[...t];case 1:return[t[0],t[0],t[0],t[0]];case 2:return[...t,...t];case 3:return[...t,t[1]];default:return[t[0],t[1],t[2],t[3]]}}return[5,5,5,5]}(n),m=void 0===n.animate||!!n.animate,p=n.iterations||2,g=+!!n.rtl,x=f("single",c);switch(n.type){case"underline":{let e=t.y+t.h+d[2];for(let n=g;n<p+g;n++)n%2?h.push(a(t.x+t.w,e,t.x,e,x)):h.push(a(t.x,e,t.x+t.w,e,x));break}case"strike-through":{let e=t.y+t.h/2;for(let n=g;n<p+g;n++)n%2?h.push(a(t.x+t.w,e,t.x,e,x)):h.push(a(t.x,e,t.x+t.w,e,x));break}case"box":{let e=t.x-d[3],n=t.y-d[0],r=t.w+(d[1]+d[3]),s=t.h+(d[0]+d[2]);for(let t=0;t<p;t++){var v,w,y,b;h.push(i([[v=e,w=n],[v+(y=r),w],[v+y,w+(b=s)],[v,w+b]],!0,x))}break}case"bracket":{let e=Array.isArray(n.brackets)?n.brackets:n.brackets?[n.brackets]:["right"],r=t.x-2*d[3],s=t.x+t.w+2*d[1],a=t.y-2*d[0],o=t.y+t.h+2*d[2];for(let n of e){let e;switch(n){case"bottom":e=[[r,t.y+t.h],[r,o],[s,o],[s,t.y+t.h]];break;case"top":e=[[r,t.y],[r,a],[s,a],[s,t.y]];break;case"left":e=[[t.x,a],[r,a],[r,o],[t.x,o]];break;case"right":e=[[t.x+t.w,a],[s,a],[s,o],[t.x+t.w,o]]}e&&h.push(i(e,!1,x))}break}case"crossed-off":{let e=t.x,n=t.y,r=e+t.w,s=n+t.h;for(let t=g;t<p+g;t++)t%2?h.push(a(r,s,e,n,x)):h.push(a(e,n,r,s,x));for(let t=g;t<p+g;t++)t%2?h.push(a(e,s,r,n,x)):h.push(a(r,n,e,s,x));break}case"circle":{let e=f("double",c),n=t.w+(d[1]+d[3]),r=t.h+(d[0]+d[2]),s=t.x-d[3]+n/2,a=t.y-d[0]+r/2,i=Math.floor(p/2),l=p-2*i;for(let t=0;t<i;t++)h.push(o(s,a,n,r,e));for(let e=0;e<l;e++)h.push(o(s,a,n,r,x));break}case"highlight":{let e=f("highlight",c);u=.95*t.h;let n=t.y+t.h/2;for(let r=g;r<p+g;r++)r%2?h.push(a(t.x+t.w,n,t.x,n,e)):h.push(a(t.x,n,t.x+t.w,n,e))}}if(h.length){let t=function(e){let t=[];for(let n of e){let e="";for(let r of n.ops){let n=r.data;switch(r.op){case"move":e.trim()&&t.push(e.trim()),e=`M${n[0]} ${n[1]} `;break;case"bcurveTo":e+=`C${n[0]} ${n[1]}, ${n[2]} ${n[3]}, ${n[4]} ${n[5]} `;break;case"lineTo":e+=`L${n[0]} ${n[1]} `}}e.trim()&&t.push(e.trim())}return t}(h),a=[],i=[],o=0,c=(e,t,n)=>e.setAttribute(t,n);for(let s of t){let t=document.createElementNS(r,"path");if(c(t,"d",s),c(t,"fill","none"),c(t,"stroke",n.color||"currentColor"),c(t,"stroke-width",""+u),m){let e=t.getTotalLength();a.push(e),o+=e}e.appendChild(t),i.push(t)}if(m){let e=0;for(let t=0;t<i.length;t++){let n=i[t],r=a[t],c=o?r/o*l:0,h=s+e,u=n.style;u.strokeDashoffset=""+r,u.strokeDasharray=""+r,u.animation=`rough-notation-dash ${c}ms ease-out ${h}ms forwards`,e+=c}}}})(e,s[t],n,h+this._animationDelay,u,this._seed),h+=u}this._lastSizes=s,this._state="showing"}rects(){let e=[];if(this._svg)if(this._config.multiline){let t=this._e.getClientRects();for(let n=0;n<t.length;n++)e.push(this.svgRect(this._svg,t[n]))}else e.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return e}svgRect(e,t){let n=e.getBoundingClientRect();return{x:(t.x||t.left)-(n.x||n.left),y:(t.y||t.top)-(n.y||n.top),w:t.width,h:t.height}}}function x(e,t){return new g(e,t)}}},e=>{e.O(0,[578,766,441,964,358],()=>e(e.s=4676)),_N_E=e.O()}]);